/*! For license information please see ruler.js.LICENSE.txt */
(self.__chunk_yandex_ymaps3=self.__chunk_yandex_ymaps3||[]).push([[553],{86894:(e,t,r)=>{"use strict";var n=r(21924)("ArrayBuffer.prototype.byteLength",!0),o=r(70635);e.exports=function(e){return o(e)?n?n(e):e.byteLength:NaN}},21924:(e,t,r)=>{"use strict";var n=r(40210),o=r(55559),i=o(n("String.prototype.indexOf"));e.exports=function(e,t){var r=n(e,!!t);return"function"==typeof r&&i(e,".prototype.")>-1?o(r):r}},55559:(e,t,r)=>{"use strict";var n=r(58612),o=r(40210),i=r(67771),a=r(14453),s=o("%Function.prototype.apply%"),u=o("%Function.prototype.call%"),c=o("%Reflect.apply%",!0)||n.call(u,s),l=r(24429),p=o("%Math.max%");e.exports=function(e){if("function"!=typeof e)throw new a("a function is required");var t=c(n,u,arguments);return i(t,1+p(0,e.length-(arguments.length-1)),!0)};var f=function(){return c(n,s,arguments)};l?l(e.exports,"apply",{value:f}):e.exports.apply=f},10815:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(8081),o=r.n(n),i=r(23645),a=r.n(i)()(o());a.push([e.id,".ymaps3x0--ruler_preview-point{opacity:0;transition:opacity .1s ease-in-out}.ymaps3x0--ruler_preview-point:hover{opacity:1}",""]);const s=a},10251:(e,t,r)=>{"use strict";var n=r(33533),o=r(21924),i=r(2847),a=r(40210),s=r(33216),u=r(37478),c=r(20609),l=r(82584),p=r(48326),f=r(70635),h=r(18923),y=r(98420),g=r(92579),d=r(82215),m=r(43679),b=r(43483),v=r(86430),w=r(86894),P=o("SharedArrayBuffer.prototype.byteLength",!0),x=o("Date.prototype.getTime"),E=Object.getPrototypeOf,S=o("Object.prototype.toString"),M=a("%Set%",!0),A=o("Map.prototype.has",!0),j=o("Map.prototype.get",!0),F=o("Map.prototype.size",!0),_=o("Set.prototype.add",!0),C=o("Set.prototype.delete",!0),O=o("Set.prototype.has",!0),k=o("Set.prototype.size",!0);function I(e,t,r,n){for(var o,i=s(e);(o=i.next())&&!o.done;)if(T(t,o.value,r,n))return C(e,o.value),!0;return!1}function L(e){return void 0===e?null:"object"!=typeof e?"symbol"!=typeof e&&("string"!=typeof e&&"number"!=typeof e||+e==+e):void 0}function B(e,t,r,o,i,a){var s=L(r);if(null!=s)return s;var u=j(t,s),c=n({},i,{strict:!1});return!(void 0===u&&!A(t,s)||!T(o,u,c,a))&&(!A(e,s)&&T(o,u,c,a))}function R(e,t,r){var n=L(r);return null!=n?n:O(t,n)&&!O(e,n)}function D(e,t,r,n,o,i){for(var a,u,c=s(e);(a=c.next())&&!a.done;)if(T(r,u=a.value,o,i)&&T(n,j(t,u),o,i))return C(e,u),!0;return!1}function T(e,t,r,o){var a=r||{};if(a.strict?c(e,t):e===t)return!0;if(m(e)!==m(t))return!1;if(!e||!t||"object"!=typeof e&&"object"!=typeof t)return a.strict?c(e,t):e==t;var u,C=o.has(e),L=o.has(t);if(C&&L){if(o.get(e)===o.get(t))return!0}else u={};return C||o.set(e,u),L||o.set(t,u),function(e,t,r,o){var a,u;if(typeof e!=typeof t)return!1;if(null==e||null==t)return!1;if(S(e)!==S(t))return!1;if(l(e)!==l(t))return!1;var c=p(e),m=p(t);if(c!==m)return!1;var C=e instanceof Error,L=t instanceof Error;if(C!==L)return!1;if((C||L)&&(e.name!==t.name||e.message!==t.message))return!1;var q=y(e),N=y(t);if(q!==N)return!1;if((q||N)&&(e.source!==t.source||i(e)!==i(t)))return!1;var U=h(e),W=h(t);if(U!==W)return!1;if((U||W)&&x(e)!==x(t))return!1;if(r.strict&&E&&E(e)!==E(t))return!1;var Y=v(e),X=v(t);if(Y!==X)return!1;if(Y||X){if(e.length!==t.length)return!1;for(a=0;a<e.length;a++)if(e[a]!==t[a])return!1;return!0}var $=G(e),z=G(t);if($!==z)return!1;if($||z){if(e.length!==t.length)return!1;for(a=0;a<e.length;a++)if(e[a]!==t[a])return!1;return!0}var H=f(e),J=f(t);if(H!==J)return!1;if(H||J)return w(e)===w(t)&&("function"==typeof Uint8Array&&T(new Uint8Array(e),new Uint8Array(t),r,o));var V=g(e),Z=g(t);if(V!==Z)return!1;if(V||Z)return P(e)===P(t)&&("function"==typeof Uint8Array&&T(new Uint8Array(e),new Uint8Array(t),r,o));if(typeof e!=typeof t)return!1;var K=d(e),Q=d(t);if(K.length!==Q.length)return!1;for(K.sort(),Q.sort(),a=K.length-1;a>=0;a--)if(K[a]!=Q[a])return!1;for(a=K.length-1;a>=0;a--)if(!T(e[u=K[a]],t[u],r,o))return!1;var ee=b(e),te=b(t);if(ee!==te)return!1;if("Set"===ee||"Set"===te)return function(e,t,r,n){if(k(e)!==k(t))return!1;var o,i,a,u=s(e),c=s(t);for(;(o=u.next())&&!o.done;)if(o.value&&"object"==typeof o.value)a||(a=new M),_(a,o.value);else if(!O(t,o.value)){if(r.strict)return!1;if(!R(e,t,o.value))return!1;a||(a=new M),_(a,o.value)}if(a){for(;(i=c.next())&&!i.done;)if(i.value&&"object"==typeof i.value){if(!I(a,i.value,r.strict,n))return!1}else if(!r.strict&&!O(e,i.value)&&!I(a,i.value,r.strict,n))return!1;return 0===k(a)}return!0}(e,t,r,o);if("Map"===ee)return function(e,t,r,o){if(F(e)!==F(t))return!1;var i,a,u,c,l,p,f=s(e),h=s(t);for(;(i=f.next())&&!i.done;)if(c=i.value[0],l=i.value[1],c&&"object"==typeof c)u||(u=new M),_(u,c);else if(void 0===(p=j(t,c))&&!A(t,c)||!T(l,p,r,o)){if(r.strict)return!1;if(!B(e,t,c,l,r,o))return!1;u||(u=new M),_(u,c)}if(u){for(;(a=h.next())&&!a.done;)if(c=a.value[0],p=a.value[1],c&&"object"==typeof c){if(!D(u,e,c,p,r,o))return!1}else if(!(r.strict||e.has(c)&&T(j(e,c),p,r,o)||D(u,e,c,p,n({},r,{strict:!1}),o)))return!1;return 0===k(u)}return!0}(e,t,r,o);return!0}(e,t,a,o)}function G(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length)&&("function"==typeof e.copy&&"function"==typeof e.slice&&(!(e.length>0&&"number"!=typeof e[0])&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))))}e.exports=function(e,t,r){return T(e,t,r,u())}},48326:e=>{var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},12296:(e,t,r)=>{"use strict";var n=r(24429),o=r(33464),i=r(14453),a=r(27296);e.exports=function(e,t,r){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new i("`obj` must be an object or a function`");if("string"!=typeof t&&"symbol"!=typeof t)throw new i("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new i("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new i("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new i("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new i("`loose`, if provided, must be a boolean");var s=arguments.length>3?arguments[3]:null,u=arguments.length>4?arguments[4]:null,c=arguments.length>5?arguments[5]:null,l=arguments.length>6&&arguments[6],p=!!a&&a(e,t);if(n)n(e,t,{configurable:null===c&&p?p.configurable:!c,enumerable:null===s&&p?p.enumerable:!s,value:r,writable:null===u&&p?p.writable:!u});else{if(!l&&(s||u||c))throw new o("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");e[t]=r}}},4289:(e,t,r)=>{"use strict";var n=r(82215),o="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),i=Object.prototype.toString,a=Array.prototype.concat,s=r(12296),u=r(31044)(),c=function(e,t,r,n){if(t in e)if(!0===n){if(e[t]===r)return}else if("function"!=typeof(o=n)||"[object Function]"!==i.call(o)||!n())return;var o;u?s(e,t,r,!0):s(e,t,r)},l=function(e,t){var r=arguments.length>2?arguments[2]:{},i=n(t);o&&(i=a.call(i,Object.getOwnPropertySymbols(t)));for(var s=0;s<i.length;s+=1)c(e,i[s],t[i[s]],r[i[s]])};l.supportsDescriptors=!!u,e.exports=l},24429:(e,t,r)=>{"use strict";var n=r(40210)("%Object.defineProperty%",!0)||!1;if(n)try{n({},"a",{value:1})}catch(e){n=!1}e.exports=n},53981:e=>{"use strict";e.exports=EvalError},81648:e=>{"use strict";e.exports=Error},24726:e=>{"use strict";e.exports=RangeError},26712:e=>{"use strict";e.exports=ReferenceError},33464:e=>{"use strict";e.exports=SyntaxError},14453:e=>{"use strict";e.exports=TypeError},43915:e=>{"use strict";e.exports=URIError},55677:e=>{var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},94029:(e,t,r)=>{"use strict";var n=r(95320),o=Object.prototype.toString,i=Object.prototype.hasOwnProperty;e.exports=function(e,t,r){if(!n(t))throw new TypeError("iterator must be a function");var a;arguments.length>=3&&(a=r),"[object Array]"===o.call(e)?function(e,t,r){for(var n=0,o=e.length;n<o;n++)i.call(e,n)&&(null==r?t(e[n],n,e):t.call(r,e[n],n,e))}(e,t,a):"string"==typeof e?function(e,t,r){for(var n=0,o=e.length;n<o;n++)null==r?t(e.charAt(n),n,e):t.call(r,e.charAt(n),n,e)}(e,t,a):function(e,t,r){for(var n in e)i.call(e,n)&&(null==r?t(e[n],n,e):t.call(r,e[n],n,e))}(e,t,a)}},17648:e=>{"use strict";var t=Object.prototype.toString,r=Math.max,n=function(e,t){for(var r=[],n=0;n<e.length;n+=1)r[n]=e[n];for(var o=0;o<t.length;o+=1)r[o+e.length]=t[o];return r};e.exports=function(e){var o=this;if("function"!=typeof o||"[object Function]"!==t.apply(o))throw new TypeError("Function.prototype.bind called on incompatible "+o);for(var i,a=function(e,t){for(var r=[],n=t||0,o=0;n<e.length;n+=1,o+=1)r[o]=e[n];return r}(arguments,1),s=r(0,o.length-a.length),u=[],c=0;c<s;c++)u[c]="$"+c;if(i=Function("binder","return function ("+function(e,t){for(var r="",n=0;n<e.length;n+=1)r+=e[n],n+1<e.length&&(r+=t);return r}(u,",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof i){var t=o.apply(this,n(a,arguments));return Object(t)===t?t:this}return o.apply(e,n(a,arguments))})),o.prototype){var l=function(){};l.prototype=o.prototype,i.prototype=new l,l.prototype=null}return i}},58612:(e,t,r)=>{"use strict";var n=r(17648);e.exports=Function.prototype.bind||n},25972:e=>{"use strict";var t=function(){return"string"==typeof function(){}.name},r=Object.getOwnPropertyDescriptor;if(r)try{r([],"length")}catch(e){r=null}t.functionsHaveConfigurableNames=function(){if(!t()||!r)return!1;var e=r((function(){}),"name");return!!e&&!!e.configurable};var n=Function.prototype.bind;t.boundFunctionsHaveNames=function(){return t()&&"function"==typeof n&&""!==function(){}.bind().name},e.exports=t},40210:(e,t,r)=>{"use strict";var n,o=r(81648),i=r(53981),a=r(24726),s=r(26712),u=r(33464),c=r(14453),l=r(43915),p=Function,f=function(e){try{return p('"use strict"; return ('+e+").constructor;")()}catch(e){}},h=Object.getOwnPropertyDescriptor;if(h)try{h({},"")}catch(e){h=null}var y=function(){throw new c},g=h?function(){try{return y}catch(e){try{return h(arguments,"callee").get}catch(e){return y}}}():y,d=r(41405)(),m=r(28185)(),b=Object.getPrototypeOf||(m?function(e){return e.__proto__}:null),v={},w="undefined"!=typeof Uint8Array&&b?b(Uint8Array):n,P={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":d&&b?b([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":v,"%AsyncGenerator%":v,"%AsyncGeneratorFunction%":v,"%AsyncIteratorPrototype%":v,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?n:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?n:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":o,"%eval%":eval,"%EvalError%":i,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":p,"%GeneratorFunction%":v,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":d&&b?b(b([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&d&&b?b((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":a,"%ReferenceError%":s,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&d&&b?b((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":d&&b?b(""[Symbol.iterator]()):n,"%Symbol%":d?Symbol:n,"%SyntaxError%":u,"%ThrowTypeError%":g,"%TypedArray%":w,"%TypeError%":c,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":l,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet};if(b)try{null.error}catch(e){var x=b(b(e));P["%Error.prototype%"]=x}var E=function e(t){var r;if("%AsyncFunction%"===t)r=f("async function () {}");else if("%GeneratorFunction%"===t)r=f("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=f("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var o=e("%AsyncGenerator%");o&&b&&(r=b(o.prototype))}return P[t]=r,r},S={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},M=r(58612),A=r(48824),j=M.call(Function.call,Array.prototype.concat),F=M.call(Function.apply,Array.prototype.splice),_=M.call(Function.call,String.prototype.replace),C=M.call(Function.call,String.prototype.slice),O=M.call(Function.call,RegExp.prototype.exec),k=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,I=/\\(\\)?/g,L=function(e,t){var r,n=e;if(A(S,n)&&(n="%"+(r=S[n])[0]+"%"),A(P,n)){var o=P[n];if(o===v&&(o=E(n)),void 0===o&&!t)throw new c("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:o}}throw new u("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new c("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new c('"allowMissing" argument must be a boolean');if(null===O(/^%?[^%]*%?$/,e))throw new u("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=function(e){var t=C(e,0,1),r=C(e,-1);if("%"===t&&"%"!==r)throw new u("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new u("invalid intrinsic syntax, expected opening `%`");var n=[];return _(e,k,(function(e,t,r,o){n[n.length]=r?_(o,I,"$1"):t||e})),n}(e),n=r.length>0?r[0]:"",o=L("%"+n+"%",t),i=o.name,a=o.value,s=!1,l=o.alias;l&&(n=l[0],F(r,j([0,1],l)));for(var p=1,f=!0;p<r.length;p+=1){var y=r[p],g=C(y,0,1),d=C(y,-1);if(('"'===g||"'"===g||"`"===g||'"'===d||"'"===d||"`"===d)&&g!==d)throw new u("property names with quotes must have matching quotes");if("constructor"!==y&&f||(s=!0),A(P,i="%"+(n+="."+y)+"%"))a=P[i];else if(null!=a){if(!(y in a)){if(!t)throw new c("base intrinsic for "+e+" exists, but the property is not available.");return}if(h&&p+1>=r.length){var m=h(a,y);a=(f=!!m)&&"get"in m&&!("originalValue"in m.get)?m.get:a[y]}else f=A(a,y),a=a[y];f&&!s&&(P[i]=a)}}return a}},27296:(e,t,r)=>{"use strict";var n=r(40210)("%Object.getOwnPropertyDescriptor%",!0);if(n)try{n([],"length")}catch(e){n=null}e.exports=n},80932:e=>{"use strict";var t="undefined"!=typeof BigInt&&BigInt;e.exports=function(){return"function"==typeof t&&"function"==typeof BigInt&&"bigint"==typeof t(42)&&"bigint"==typeof BigInt(42)}},31044:(e,t,r)=>{"use strict";var n=r(24429),o=function(){return!!n};o.hasArrayLengthDefineBug=function(){if(!n)return null;try{return 1!==n([],"length",{value:1}).length}catch(e){return!0}},e.exports=o},28185:e=>{"use strict";var t={foo:{}},r=Object;e.exports=function(){return{__proto__:t}.foo===t.foo&&!({__proto__:null}instanceof r)}},41405:(e,t,r)=>{"use strict";var n="undefined"!=typeof Symbol&&Symbol,o=r(55419);e.exports=function(){return"function"==typeof n&&("function"==typeof Symbol&&("symbol"==typeof n("foo")&&("symbol"==typeof Symbol("bar")&&o())))}},55419:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},96410:(e,t,r)=>{"use strict";var n=r(55419);e.exports=function(){return n()&&!!Symbol.toStringTag}},17642:(e,t,r)=>{"use strict";var n=r(58612);e.exports=n.call(Function.call,Object.prototype.hasOwnProperty)},48824:(e,t,r)=>{"use strict";var n=Function.prototype.call,o=Object.prototype.hasOwnProperty,i=r(58612);e.exports=i.call(n,o)},9496:(e,t,r)=>{"use strict";var n=r(40210),o=r(17642),i=r(37478)(),a=n("%TypeError%"),s={assert:function(e,t){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new a("`O` is not an object");if("string"!=typeof t)throw new a("`slot` must be a string");if(i.assert(e),!s.has(e,t))throw new a("`"+t+"` is not present on `O`")},get:function(e,t){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new a("`O` is not an object");if("string"!=typeof t)throw new a("`slot` must be a string");var r=i.get(e);return r&&r["$"+t]},has:function(e,t){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new a("`O` is not an object");if("string"!=typeof t)throw new a("`slot` must be a string");var r=i.get(e);return!!r&&o(r,"$"+t)},set:function(e,t,r){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new a("`O` is not an object");if("string"!=typeof t)throw new a("`slot` must be a string");var n=i.get(e);n||(n={},i.set(e,n)),n["$"+t]=r}};Object.freeze&&Object.freeze(s),e.exports=s},82584:(e,t,r)=>{"use strict";var n=r(96410)(),o=r(21924)("Object.prototype.toString"),i=function(e){return!(n&&e&&"object"==typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===o(e)},a=function(e){return!!i(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==o(e)&&"[object Function]"===o(e.callee)},s=function(){return i(arguments)}();i.isLegacyArguments=a,e.exports=s?i:a},70635:(e,t,r)=>{"use strict";var n=r(55559),o=r(21924),i=r(40210),a=r(85692),s=i("ArrayBuffer",!0),u=i("Float32Array",!0),c=o("ArrayBuffer.prototype.byteLength",!0),l=s&&!c&&(new s).slice,p=l&&n(l);e.exports=c||p?function(e){if(!e||"object"!=typeof e)return!1;try{return c?c(e):p(e,0),!0}catch(e){return!1}}:u?function(e){try{return new u(e).buffer===e&&!a(e)}catch(t){return"object"==typeof e&&"RangeError"===t.name}}:function(e){return!1}},63376:(e,t,r)=>{"use strict";if(r(80932)()){var n=BigInt.prototype.valueOf;e.exports=function(e){return null!=e&&"boolean"!=typeof e&&"string"!=typeof e&&"number"!=typeof e&&"symbol"!=typeof e&&"function"!=typeof e&&("bigint"==typeof e||function(e){try{return n.call(e),!0}catch(e){}return!1}(e))}}else e.exports=function(e){return!1}},76814:(e,t,r)=>{"use strict";var n=r(21924),o=n("Boolean.prototype.toString"),i=n("Object.prototype.toString"),a=r(96410)();e.exports=function(e){return"boolean"==typeof e||null!==e&&"object"==typeof e&&(a&&Symbol.toStringTag in e?function(e){try{return o(e),!0}catch(e){return!1}}(e):"[object Boolean]"===i(e))}},95320:e=>{"use strict";var t,r,n=Function.prototype.toString,o="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof o&&"function"==typeof Object.defineProperty)try{t=Object.defineProperty({},"length",{get:function(){throw r}}),r={},o((function(){throw 42}),null,t)}catch(e){e!==r&&(o=null)}else o=null;var i=/^\s*class\b/,a=function(e){try{var t=n.call(e);return i.test(t)}catch(e){return!1}},s=function(e){try{return!a(e)&&(n.call(e),!0)}catch(e){return!1}},u=Object.prototype.toString,c="function"==typeof Symbol&&!!Symbol.toStringTag,l=!(0 in[,]),p=function(){return!1};if("object"==typeof document){var f=document.all;u.call(f)===u.call(document.all)&&(p=function(e){if((l||!e)&&(void 0===e||"object"==typeof e))try{var t=u.call(e);return("[object HTMLAllCollection]"===t||"[object HTML document.all class]"===t||"[object HTMLCollection]"===t||"[object Object]"===t)&&null==e("")}catch(e){}return!1})}e.exports=o?function(e){if(p(e))return!0;if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;try{o(e,null,t)}catch(e){if(e!==r)return!1}return!a(e)&&s(e)}:function(e){if(p(e))return!0;if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if(c)return s(e);if(a(e))return!1;var t=u.call(e);return!("[object Function]"!==t&&"[object GeneratorFunction]"!==t&&!/^\[object HTML/.test(t))&&s(e)}},18923:(e,t,r)=>{"use strict";var n=Date.prototype.getDay,o=Object.prototype.toString,i=r(96410)();e.exports=function(e){return"object"==typeof e&&null!==e&&(i?function(e){try{return n.call(e),!0}catch(e){return!1}}(e):"[object Date]"===o.call(e))}},78379:e=>{"use strict";var t,r="function"==typeof Map&&Map.prototype?Map:null,n="function"==typeof Set&&Set.prototype?Set:null;r||(t=function(e){return!1});var o=r?Map.prototype.has:null,i=n?Set.prototype.has:null;t||o||(t=function(e){return!1}),e.exports=t||function(e){if(!e||"object"!=typeof e)return!1;try{if(o.call(e),i)try{i.call(e)}catch(e){return!0}return e instanceof r}catch(e){}return!1}},44578:(e,t,r)=>{"use strict";var n=Number.prototype.toString,o=Object.prototype.toString,i=r(96410)();e.exports=function(e){return"number"==typeof e||"object"==typeof e&&(i?function(e){try{return n.call(e),!0}catch(e){return!1}}(e):"[object Number]"===o.call(e))}},98420:(e,t,r)=>{"use strict";var n,o,i,a,s=r(21924),u=r(96410)();if(u){n=s("Object.prototype.hasOwnProperty"),o=s("RegExp.prototype.exec"),i={};var c=function(){throw i};a={toString:c,valueOf:c},"symbol"==typeof Symbol.toPrimitive&&(a[Symbol.toPrimitive]=c)}var l=s("Object.prototype.toString"),p=Object.getOwnPropertyDescriptor;e.exports=u?function(e){if(!e||"object"!=typeof e)return!1;var t=p(e,"lastIndex");if(!(t&&n(t,"value")))return!1;try{o(e,a)}catch(e){return e===i}}:function(e){return!(!e||"object"!=typeof e&&"function"!=typeof e)&&"[object RegExp]"===l(e)}},19572:e=>{"use strict";var t,r="function"==typeof Map&&Map.prototype?Map:null,n="function"==typeof Set&&Set.prototype?Set:null;n||(t=function(e){return!1});var o=r?Map.prototype.has:null,i=n?Set.prototype.has:null;t||i||(t=function(e){return!1}),e.exports=t||function(e){if(!e||"object"!=typeof e)return!1;try{if(i.call(e),o)try{o.call(e)}catch(e){return!0}return e instanceof n}catch(e){}return!1}},92579:(e,t,r)=>{"use strict";var n=r(21924)("SharedArrayBuffer.prototype.byteLength",!0);e.exports=n?function(e){if(!e||"object"!=typeof e)return!1;try{return n(e),!0}catch(e){return!1}}:function(e){return!1}},29981:(e,t,r)=>{"use strict";var n=String.prototype.valueOf,o=Object.prototype.toString,i=r(96410)();e.exports=function(e){return"string"==typeof e||"object"==typeof e&&(i?function(e){try{return n.call(e),!0}catch(e){return!1}}(e):"[object String]"===o.call(e))}},12636:(e,t,r)=>{"use strict";var n=Object.prototype.toString;if(r(41405)()){var o=Symbol.prototype.toString,i=/^Symbol\(.*\)$/;e.exports=function(e){if("symbol"==typeof e)return!0;if("[object Symbol]"!==n.call(e))return!1;try{return function(e){return"symbol"==typeof e.valueOf()&&i.test(o.call(e))}(e)}catch(e){return!1}}}else e.exports=function(e){return!1}},85692:(e,t,r)=>{"use strict";var n=r(94029),o=r(63083),i=r(21924),a=i("Object.prototype.toString"),s=r(96410)(),u=r(27296),c="undefined"==typeof globalThis?r.g:globalThis,l=o(),p=i("Array.prototype.indexOf",!0)||function(e,t){for(var r=0;r<e.length;r+=1)if(e[r]===t)return r;return-1},f=i("String.prototype.slice"),h={},y=Object.getPrototypeOf;s&&u&&y&&n(l,(function(e){var t=new c[e];if(Symbol.toStringTag in t){var r=y(t),n=u(r,Symbol.toStringTag);if(!n){var o=y(r);n=u(o,Symbol.toStringTag)}h[e]=n.get}}));e.exports=function(e){if(!e||"object"!=typeof e)return!1;if(!s||!(Symbol.toStringTag in e)){var t=f(a(e),8,-1);return p(l,t)>-1}return!!u&&function(e){var t=!1;return n(h,(function(r,n){if(!t)try{t=r.call(e)===n}catch(e){}})),t}(e)}},11718:e=>{"use strict";var t,r="function"==typeof WeakMap&&WeakMap.prototype?WeakMap:null,n="function"==typeof WeakSet&&WeakSet.prototype?WeakSet:null;r||(t=function(e){return!1});var o=r?r.prototype.has:null,i=n?n.prototype.has:null;t||o||(t=function(e){return!1}),e.exports=t||function(e){if(!e||"object"!=typeof e)return!1;try{if(o.call(e,o),i)try{i.call(e,i)}catch(e){return!0}return e instanceof r}catch(e){}return!1}},25899:(e,t,r)=>{"use strict";var n=r(40210),o=r(21924),i=n("%WeakSet%",!0),a=o("WeakSet.prototype.has",!0);if(a){var s=o("WeakMap.prototype.has",!0);e.exports=function(e){if(!e||"object"!=typeof e)return!1;try{if(a(e,a),s)try{s(e,s)}catch(e){return!0}return e instanceof i}catch(e){}return!1}}else e.exports=function(e){return!1}},70631:(e,t,r)=>{var n="function"==typeof Map&&Map.prototype,o=Object.getOwnPropertyDescriptor&&n?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,i=n&&o&&"function"==typeof o.get?o.get:null,a=n&&Map.prototype.forEach,s="function"==typeof Set&&Set.prototype,u=Object.getOwnPropertyDescriptor&&s?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,c=s&&u&&"function"==typeof u.get?u.get:null,l=s&&Set.prototype.forEach,p="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,f="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,h="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,y=Boolean.prototype.valueOf,g=Object.prototype.toString,d=Function.prototype.toString,m=String.prototype.match,b=String.prototype.slice,v=String.prototype.replace,w=String.prototype.toUpperCase,P=String.prototype.toLowerCase,x=RegExp.prototype.test,E=Array.prototype.concat,S=Array.prototype.join,M=Array.prototype.slice,A=Math.floor,j="function"==typeof BigInt?BigInt.prototype.valueOf:null,F=Object.getOwnPropertySymbols,_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,C="function"==typeof Symbol&&"object"==typeof Symbol.iterator,O="function"==typeof Symbol&&Symbol.toStringTag&&(typeof Symbol.toStringTag===C||"symbol")?Symbol.toStringTag:null,k=Object.prototype.propertyIsEnumerable,I=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function L(e,t){if(e===1/0||e===-1/0||e!=e||e&&e>-1e3&&e<1e3||x.call(/e/,t))return t;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof e){var n=e<0?-A(-e):A(e);if(n!==e){var o=String(n),i=b.call(t,o.length+1);return v.call(o,r,"$&_")+"."+v.call(v.call(i,/([0-9]{3})/g,"$&_"),/_$/,"")}}return v.call(t,r,"$&_")}var B=r(24654),R=B.custom,D=U(R)?R:null;function T(e,t,r){var n="double"===(r.quoteStyle||t)?'"':"'";return n+e+n}function G(e){return v.call(String(e),/"/g,"&quot;")}function q(e){return!("[object Array]"!==X(e)||O&&"object"==typeof e&&O in e)}function N(e){return!("[object RegExp]"!==X(e)||O&&"object"==typeof e&&O in e)}function U(e){if(C)return e&&"object"==typeof e&&e instanceof Symbol;if("symbol"==typeof e)return!0;if(!e||"object"!=typeof e||!_)return!1;try{return _.call(e),!0}catch(e){}return!1}e.exports=function e(t,r,n,o){var s=r||{};if(Y(s,"quoteStyle")&&"single"!==s.quoteStyle&&"double"!==s.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Y(s,"maxStringLength")&&("number"==typeof s.maxStringLength?s.maxStringLength<0&&s.maxStringLength!==1/0:null!==s.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var u=!Y(s,"customInspect")||s.customInspect;if("boolean"!=typeof u&&"symbol"!==u)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Y(s,"indent")&&null!==s.indent&&"\t"!==s.indent&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Y(s,"numericSeparator")&&"boolean"!=typeof s.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var g=s.numericSeparator;if(void 0===t)return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return z(t,s);if("number"==typeof t){if(0===t)return 1/0/t>0?"0":"-0";var w=String(t);return g?L(t,w):w}if("bigint"==typeof t){var x=String(t)+"n";return g?L(t,x):x}var A=void 0===s.depth?5:s.depth;if(void 0===n&&(n=0),n>=A&&A>0&&"object"==typeof t)return q(t)?"[Array]":"[Object]";var F=function(e,t){var r;if("\t"===e.indent)r="\t";else{if(!("number"==typeof e.indent&&e.indent>0))return null;r=S.call(Array(e.indent+1)," ")}return{base:r,prev:S.call(Array(t+1),r)}}(s,n);if(void 0===o)o=[];else if($(o,t)>=0)return"[Circular]";function R(t,r,i){if(r&&(o=M.call(o)).push(r),i){var a={depth:s.depth};return Y(s,"quoteStyle")&&(a.quoteStyle=s.quoteStyle),e(t,a,n+1,o)}return e(t,s,n+1,o)}if("function"==typeof t&&!N(t)){var W=function(e){if(e.name)return e.name;var t=m.call(d.call(e),/^function\s*([\w$]+)/);if(t)return t[1];return null}(t),H=Q(t,R);return"[Function"+(W?": "+W:" (anonymous)")+"]"+(H.length>0?" { "+S.call(H,", ")+" }":"")}if(U(t)){var ee=C?v.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):_.call(t);return"object"!=typeof t||C?ee:J(ee)}if(function(e){if(!e||"object"!=typeof e)return!1;if("undefined"!=typeof HTMLElement&&e instanceof HTMLElement)return!0;return"string"==typeof e.nodeName&&"function"==typeof e.getAttribute}(t)){for(var te="<"+P.call(String(t.nodeName)),re=t.attributes||[],ne=0;ne<re.length;ne++)te+=" "+re[ne].name+"="+T(G(re[ne].value),"double",s);return te+=">",t.childNodes&&t.childNodes.length&&(te+="..."),te+="</"+P.call(String(t.nodeName))+">"}if(q(t)){if(0===t.length)return"[]";var oe=Q(t,R);return F&&!function(e){for(var t=0;t<e.length;t++)if($(e[t],"\n")>=0)return!1;return!0}(oe)?"["+K(oe,F)+"]":"[ "+S.call(oe,", ")+" ]"}if(function(e){return!("[object Error]"!==X(e)||O&&"object"==typeof e&&O in e)}(t)){var ie=Q(t,R);return"cause"in Error.prototype||!("cause"in t)||k.call(t,"cause")?0===ie.length?"["+String(t)+"]":"{ ["+String(t)+"] "+S.call(ie,", ")+" }":"{ ["+String(t)+"] "+S.call(E.call("[cause]: "+R(t.cause),ie),", ")+" }"}if("object"==typeof t&&u){if(D&&"function"==typeof t[D]&&B)return B(t,{depth:A-n});if("symbol"!==u&&"function"==typeof t.inspect)return t.inspect()}if(function(e){if(!i||!e||"object"!=typeof e)return!1;try{i.call(e);try{c.call(e)}catch(e){return!0}return e instanceof Map}catch(e){}return!1}(t)){var ae=[];return a&&a.call(t,(function(e,r){ae.push(R(r,t,!0)+" => "+R(e,t))})),Z("Map",i.call(t),ae,F)}if(function(e){if(!c||!e||"object"!=typeof e)return!1;try{c.call(e);try{i.call(e)}catch(e){return!0}return e instanceof Set}catch(e){}return!1}(t)){var se=[];return l&&l.call(t,(function(e){se.push(R(e,t))})),Z("Set",c.call(t),se,F)}if(function(e){if(!p||!e||"object"!=typeof e)return!1;try{p.call(e,p);try{f.call(e,f)}catch(e){return!0}return e instanceof WeakMap}catch(e){}return!1}(t))return V("WeakMap");if(function(e){if(!f||!e||"object"!=typeof e)return!1;try{f.call(e,f);try{p.call(e,p)}catch(e){return!0}return e instanceof WeakSet}catch(e){}return!1}(t))return V("WeakSet");if(function(e){if(!h||!e||"object"!=typeof e)return!1;try{return h.call(e),!0}catch(e){}return!1}(t))return V("WeakRef");if(function(e){return!("[object Number]"!==X(e)||O&&"object"==typeof e&&O in e)}(t))return J(R(Number(t)));if(function(e){if(!e||"object"!=typeof e||!j)return!1;try{return j.call(e),!0}catch(e){}return!1}(t))return J(R(j.call(t)));if(function(e){return!("[object Boolean]"!==X(e)||O&&"object"==typeof e&&O in e)}(t))return J(y.call(t));if(function(e){return!("[object String]"!==X(e)||O&&"object"==typeof e&&O in e)}(t))return J(R(String(t)));if(!function(e){return!("[object Date]"!==X(e)||O&&"object"==typeof e&&O in e)}(t)&&!N(t)){var ue=Q(t,R),ce=I?I(t)===Object.prototype:t instanceof Object||t.constructor===Object,le=t instanceof Object?"":"null prototype",pe=!ce&&O&&Object(t)===t&&O in t?b.call(X(t),8,-1):le?"Object":"",fe=(ce||"function"!=typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(pe||le?"["+S.call(E.call([],pe||[],le||[]),": ")+"] ":"");return 0===ue.length?fe+"{}":F?fe+"{"+K(ue,F)+"}":fe+"{ "+S.call(ue,", ")+" }"}return String(t)};var W=Object.prototype.hasOwnProperty||function(e){return e in this};function Y(e,t){return W.call(e,t)}function X(e){return g.call(e)}function $(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}function z(e,t){if(e.length>t.maxStringLength){var r=e.length-t.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return z(b.call(e,0,t.maxStringLength),t)+n}return T(v.call(v.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,H),"single",t)}function H(e){var t=e.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return r?"\\"+r:"\\x"+(t<16?"0":"")+w.call(t.toString(16))}function J(e){return"Object("+e+")"}function V(e){return e+" { ? }"}function Z(e,t,r,n){return e+" ("+t+") {"+(n?K(r,n):S.call(r,", "))+"}"}function K(e,t){if(0===e.length)return"";var r="\n"+t.prev+t.base;return r+S.call(e,","+r)+"\n"+t.prev}function Q(e,t){var r=q(e),n=[];if(r){n.length=e.length;for(var o=0;o<e.length;o++)n[o]=Y(e,o)?t(e[o],e):""}var i,a="function"==typeof F?F(e):[];if(C){i={};for(var s=0;s<a.length;s++)i["$"+a[s]]=a[s]}for(var u in e)Y(e,u)&&(r&&String(Number(u))===u&&u<e.length||C&&i["$"+u]instanceof Symbol||(x.call(/[^\w$]/,u)?n.push(t(u,e)+": "+t(e[u],e)):n.push(u+": "+t(e[u],e))));if("function"==typeof F)for(var c=0;c<a.length;c++)k.call(e,a[c])&&n.push("["+t(a[c])+"]: "+t(e[a[c]],e));return n}},24244:e=>{"use strict";var t=function(e){return e!=e};e.exports=function(e,r){return 0===e&&0===r?1/e==1/r:e===r||!(!t(e)||!t(r))}},20609:(e,t,r)=>{"use strict";var n=r(4289),o=r(55559),i=r(24244),a=r(75624),s=r(52281),u=o(a(),Object);n(u,{getPolyfill:a,implementation:i,shim:s}),e.exports=u},75624:(e,t,r)=>{"use strict";var n=r(24244);e.exports=function(){return"function"==typeof Object.is?Object.is:n}},52281:(e,t,r)=>{"use strict";var n=r(75624),o=r(4289);e.exports=function(){var e=n();return o(Object,{is:e},{is:function(){return Object.is!==e}}),e}},18987:(e,t,r)=>{"use strict";var n;if(!Object.keys){var o=Object.prototype.hasOwnProperty,i=Object.prototype.toString,a=r(21414),s=Object.prototype.propertyIsEnumerable,u=!s.call({toString:null},"toString"),c=s.call((function(){}),"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],p=function(e){var t=e.constructor;return t&&t.prototype===e},f={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},h=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!f["$"+e]&&o.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{p(window[e])}catch(e){return!0}}catch(e){return!0}return!1}();n=function(e){var t=null!==e&&"object"==typeof e,r="[object Function]"===i.call(e),n=a(e),s=t&&"[object String]"===i.call(e),f=[];if(!t&&!r&&!n)throw new TypeError("Object.keys called on a non-object");var y=c&&r;if(s&&e.length>0&&!o.call(e,0))for(var g=0;g<e.length;++g)f.push(String(g));if(n&&e.length>0)for(var d=0;d<e.length;++d)f.push(String(d));else for(var m in e)y&&"prototype"===m||!o.call(e,m)||f.push(String(m));if(u)for(var b=function(e){if("undefined"==typeof window||!h)return p(e);try{return p(e)}catch(e){return!1}}(e),v=0;v<l.length;++v)b&&"constructor"===l[v]||!o.call(e,l[v])||f.push(l[v]);return f}}e.exports=n},82215:(e,t,r)=>{"use strict";var n=Array.prototype.slice,o=r(21414),i=Object.keys,a=i?function(e){return i(e)}:r(18987),s=Object.keys;a.shim=function(){if(Object.keys){var e=function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2);e||(Object.keys=function(e){return o(e)?s(n.call(e)):s(e)})}else Object.keys=a;return Object.keys||a},e.exports=a},21414:e=>{"use strict";var t=Object.prototype.toString;e.exports=function(e){var r=t.call(e),n="[object Arguments]"===r;return n||(n="[object Array]"!==r&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===t.call(e.callee)),n}},92837:(e,t,r)=>{"use strict";var n=r(82215),o=r(55419)(),i=r(21924),a=Object,s=i("Array.prototype.push"),u=i("Object.prototype.propertyIsEnumerable"),c=o?Object.getOwnPropertySymbols:null;e.exports=function(e,t){if(null==e)throw new TypeError("target must be an object");var r=a(e);if(1===arguments.length)return r;for(var i=1;i<arguments.length;++i){var l=a(arguments[i]),p=n(l),f=o&&(Object.getOwnPropertySymbols||c);if(f)for(var h=f(l),y=0;y<h.length;++y){var g=h[y];u(l,g)&&s(p,g)}for(var d=0;d<p.length;++d){var m=p[d];if(u(l,m)){var b=l[m];r[m]=b}}}return r}},33533:(e,t,r)=>{"use strict";var n=r(4289),o=r(55559),i=r(92837),a=r(28162),s=r(84489),u=o.apply(a()),c=function(e,t){return u(Object,arguments)};n(c,{getPolyfill:a,implementation:i,shim:s}),e.exports=c},28162:(e,t,r)=>{"use strict";var n=r(92837);e.exports=function(){return Object.assign?function(){if(!Object.assign)return!1;for(var e="abcdefghijklmnopqrst",t=e.split(""),r={},n=0;n<t.length;++n)r[t[n]]=t[n];var o=Object.assign({},r),i="";for(var a in o)i+=a;return e!==i}()||function(){if(!Object.assign||!Object.preventExtensions)return!1;var e=Object.preventExtensions({1:2});try{Object.assign(e,"xy")}catch(t){return"y"===e[1]}return!1}()?n:Object.assign:n}},84489:(e,t,r)=>{"use strict";var n=r(4289),o=r(28162);e.exports=function(){var e=o();return n(Object,{assign:e},{assign:function(){return Object.assign!==e}}),e}},89908:e=>{"use strict";e.exports=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]},82582:function(e){e.exports=function(){"use strict";function e(e,n,o,i,a){!function e(r,n,o,i,a){for(;i>o;){if(i-o>600){var s=i-o+1,u=n-o+1,c=Math.log(s),l=.5*Math.exp(2*c/3),p=.5*Math.sqrt(c*l*(s-l)/s)*(u-s/2<0?-1:1);e(r,n,Math.max(o,Math.floor(n-u*l/s+p)),Math.min(i,Math.floor(n+(s-u)*l/s+p)),a)}var f=r[n],h=o,y=i;for(t(r,o,n),a(r[i],f)>0&&t(r,o,i);h<y;){for(t(r,h,y),h++,y--;a(r[h],f)<0;)h++;for(;a(r[y],f)>0;)y--}0===a(r[o],f)?t(r,o,y):t(r,++y,i),y<=n&&(o=y+1),n<=y&&(i=y-1)}}(e,n,o||0,i||e.length-1,a||r)}function t(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function r(e,t){return e<t?-1:e>t?1:0}var n=function(e){void 0===e&&(e=9),this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function o(e,t,r){if(!r)return t.indexOf(e);for(var n=0;n<t.length;n++)if(r(e,t[n]))return n;return-1}function i(e,t){a(e,0,e.children.length,t,e)}function a(e,t,r,n,o){o||(o=y(null)),o.minX=1/0,o.minY=1/0,o.maxX=-1/0,o.maxY=-1/0;for(var i=t;i<r;i++){var a=e.children[i];s(o,e.leaf?n(a):a)}return o}function s(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function u(e,t){return e.minX-t.minX}function c(e,t){return e.minY-t.minY}function l(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function p(e){return e.maxX-e.minX+(e.maxY-e.minY)}function f(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function h(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function y(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function g(t,r,n,o,i){for(var a=[r,n];a.length;)if(!((n=a.pop())-(r=a.pop())<=o)){var s=r+Math.ceil((n-r)/o/2)*o;e(t,s,r,n,i),a.push(r,s,s,n)}}return n.prototype.all=function(){return this._all(this.data,[])},n.prototype.search=function(e){var t=this.data,r=[];if(!h(e,t))return r;for(var n=this.toBBox,o=[];t;){for(var i=0;i<t.children.length;i++){var a=t.children[i],s=t.leaf?n(a):a;h(e,s)&&(t.leaf?r.push(a):f(e,s)?this._all(a,r):o.push(a))}t=o.pop()}return r},n.prototype.collides=function(e){var t=this.data;if(!h(e,t))return!1;for(var r=[];t;){for(var n=0;n<t.children.length;n++){var o=t.children[n],i=t.leaf?this.toBBox(o):o;if(h(e,i)){if(t.leaf||f(e,i))return!0;r.push(o)}}t=r.pop()}return!1},n.prototype.load=function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var t=0;t<e.length;t++)this.insert(e[t]);return this}var r=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var n=this.data;this.data=r,r=n}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},n.prototype.insert=function(e){return e&&this._insert(e,this.data.height-1),this},n.prototype.clear=function(){return this.data=y([]),this},n.prototype.remove=function(e,t){if(!e)return this;for(var r,n,i,a=this.data,s=this.toBBox(e),u=[],c=[];a||u.length;){if(a||(a=u.pop(),n=u[u.length-1],r=c.pop(),i=!0),a.leaf){var l=o(e,a.children,t);if(-1!==l)return a.children.splice(l,1),u.push(a),this._condense(u),this}i||a.leaf||!f(a,s)?n?(r++,a=n.children[r],i=!1):a=null:(u.push(a),c.push(r),r=0,n=a,a=a.children[0])}return this},n.prototype.toBBox=function(e){return e},n.prototype.compareMinX=function(e,t){return e.minX-t.minX},n.prototype.compareMinY=function(e,t){return e.minY-t.minY},n.prototype.toJSON=function(){return this.data},n.prototype.fromJSON=function(e){return this.data=e,this},n.prototype._all=function(e,t){for(var r=[];e;)e.leaf?t.push.apply(t,e.children):r.push.apply(r,e.children),e=r.pop();return t},n.prototype._build=function(e,t,r,n){var o,a=r-t+1,s=this._maxEntries;if(a<=s)return i(o=y(e.slice(t,r+1)),this.toBBox),o;n||(n=Math.ceil(Math.log(a)/Math.log(s)),s=Math.ceil(a/Math.pow(s,n-1))),(o=y([])).leaf=!1,o.height=n;var u=Math.ceil(a/s),c=u*Math.ceil(Math.sqrt(s));g(e,t,r,c,this.compareMinX);for(var l=t;l<=r;l+=c){var p=Math.min(l+c-1,r);g(e,l,p,u,this.compareMinY);for(var f=l;f<=p;f+=u){var h=Math.min(f+u-1,p);o.children.push(this._build(e,f,h,n-1))}}return i(o,this.toBBox),o},n.prototype._chooseSubtree=function(e,t,r,n){for(;n.push(t),!t.leaf&&n.length-1!==r;){for(var o=1/0,i=1/0,a=void 0,s=0;s<t.children.length;s++){var u=t.children[s],c=l(u),p=(f=e,h=u,(Math.max(h.maxX,f.maxX)-Math.min(h.minX,f.minX))*(Math.max(h.maxY,f.maxY)-Math.min(h.minY,f.minY))-c);p<i?(i=p,o=c<o?c:o,a=u):p===i&&c<o&&(o=c,a=u)}t=a||t.children[0]}var f,h;return t},n.prototype._insert=function(e,t,r){var n=r?e:this.toBBox(e),o=[],i=this._chooseSubtree(n,this.data,t,o);for(i.children.push(e),s(i,n);t>=0&&o[t].children.length>this._maxEntries;)this._split(o,t),t--;this._adjustParentBBoxes(n,o,t)},n.prototype._split=function(e,t){var r=e[t],n=r.children.length,o=this._minEntries;this._chooseSplitAxis(r,o,n);var a=this._chooseSplitIndex(r,o,n),s=y(r.children.splice(a,r.children.length-a));s.height=r.height,s.leaf=r.leaf,i(r,this.toBBox),i(s,this.toBBox),t?e[t-1].children.push(s):this._splitRoot(r,s)},n.prototype._splitRoot=function(e,t){this.data=y([e,t]),this.data.height=e.height+1,this.data.leaf=!1,i(this.data,this.toBBox)},n.prototype._chooseSplitIndex=function(e,t,r){for(var n,o,i,s,u,c,p,f=1/0,h=1/0,y=t;y<=r-t;y++){var g=a(e,0,y,this.toBBox),d=a(e,y,r,this.toBBox),m=(o=g,i=d,s=void 0,u=void 0,c=void 0,p=void 0,s=Math.max(o.minX,i.minX),u=Math.max(o.minY,i.minY),c=Math.min(o.maxX,i.maxX),p=Math.min(o.maxY,i.maxY),Math.max(0,c-s)*Math.max(0,p-u)),b=l(g)+l(d);m<f?(f=m,n=y,h=b<h?b:h):m===f&&b<h&&(h=b,n=y)}return n||r-t},n.prototype._chooseSplitAxis=function(e,t,r){var n=e.leaf?this.compareMinX:u,o=e.leaf?this.compareMinY:c;this._allDistMargin(e,t,r,n)<this._allDistMargin(e,t,r,o)&&e.children.sort(n)},n.prototype._allDistMargin=function(e,t,r,n){e.children.sort(n);for(var o=this.toBBox,i=a(e,0,t,o),u=a(e,r-t,r,o),c=p(i)+p(u),l=t;l<r-t;l++){var f=e.children[l];s(i,e.leaf?o(f):f),c+=p(i)}for(var h=r-t-1;h>=t;h--){var y=e.children[h];s(u,e.leaf?o(y):y),c+=p(u)}return c},n.prototype._adjustParentBBoxes=function(e,t,r){for(var n=r;n>=0;n--)s(t[n],e)},n.prototype._condense=function(e){for(var t=e.length-1,r=void 0;t>=0;t--)0===e[t].children.length?t>0?(r=e[t-1].children).splice(r.indexOf(e[t]),1):this.clear():i(e[t],this.toBBox)},n}()},53697:(e,t,r)=>{"use strict";var n=r(58052),o=r(14453),i=Object;e.exports=n((function(){if(null==this||this!==i(this))throw new o("RegExp.prototype.flags getter called on non-object");var e="";return this.hasIndices&&(e+="d"),this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),this.dotAll&&(e+="s"),this.unicode&&(e+="u"),this.unicodeSets&&(e+="v"),this.sticky&&(e+="y"),e}),"get flags",!0)},2847:(e,t,r)=>{"use strict";var n=r(4289),o=r(55559),i=r(53697),a=r(71721),s=r(32753),u=o(a());n(u,{getPolyfill:a,implementation:i,shim:s}),e.exports=u},71721:(e,t,r)=>{"use strict";var n=r(53697),o=r(4289).supportsDescriptors,i=Object.getOwnPropertyDescriptor;e.exports=function(){if(o&&"gim"===/a/gim.flags){var e=i(RegExp.prototype,"flags");if(e&&"function"==typeof e.get&&"boolean"==typeof RegExp.prototype.dotAll&&"boolean"==typeof RegExp.prototype.hasIndices){var t="",r={};if(Object.defineProperty(r,"hasIndices",{get:function(){t+="d"}}),Object.defineProperty(r,"sticky",{get:function(){t+="y"}}),"dy"===t)return e.get}}return n}},32753:(e,t,r)=>{"use strict";var n=r(4289).supportsDescriptors,o=r(71721),i=Object.getOwnPropertyDescriptor,a=Object.defineProperty,s=TypeError,u=Object.getPrototypeOf,c=/a/;e.exports=function(){if(!n||!u)throw new s("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var e=o(),t=u(c),r=i(t,"flags");return r&&r.get===e||a(t,"flags",{configurable:!0,enumerable:!1,get:e}),e}},67771:(e,t,r)=>{"use strict";var n=r(40210),o=r(12296),i=r(31044)(),a=r(27296),s=r(14453),u=n("%Math.floor%");e.exports=function(e,t){if("function"!=typeof e)throw new s("`fn` is not a function");if("number"!=typeof t||t<0||t>4294967295||u(t)!==t)throw new s("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],n=!0,c=!0;if("length"in e&&a){var l=a(e,"length");l&&!l.configurable&&(n=!1),l&&!l.writable&&(c=!1)}return(n||c||!r)&&(i?o(e,"length",t,!0,!0):o(e,"length",t)),e}},58052:(e,t,r)=>{"use strict";var n=r(12296),o=r(31044)(),i=r(25972).functionsHaveConfigurableNames(),a=r(14453);e.exports=function(e,t){if("function"!=typeof e)throw new a("`fn` is not a function");return arguments.length>2&&!!arguments[2]&&!i||(o?n(e,"name",t,!0,!0):n(e,"name",t)),e}},37478:(e,t,r)=>{"use strict";var n=r(40210),o=r(21924),i=r(70631),a=n("%TypeError%"),s=n("%WeakMap%",!0),u=n("%Map%",!0),c=o("WeakMap.prototype.get",!0),l=o("WeakMap.prototype.set",!0),p=o("WeakMap.prototype.has",!0),f=o("Map.prototype.get",!0),h=o("Map.prototype.set",!0),y=o("Map.prototype.has",!0),g=function(e,t){for(var r,n=e;null!==(r=n.next);n=r)if(r.key===t)return n.next=r.next,r.next=e.next,e.next=r,r};e.exports=function(){var e,t,r,n={assert:function(e){if(!n.has(e))throw new a("Side channel does not contain "+i(e))},get:function(n){if(s&&n&&("object"==typeof n||"function"==typeof n)){if(e)return c(e,n)}else if(u){if(t)return f(t,n)}else if(r)return function(e,t){var r=g(e,t);return r&&r.value}(r,n)},has:function(n){if(s&&n&&("object"==typeof n||"function"==typeof n)){if(e)return p(e,n)}else if(u){if(t)return y(t,n)}else if(r)return function(e,t){return!!g(e,t)}(r,n);return!1},set:function(n,o){s&&n&&("object"==typeof n||"function"==typeof n)?(e||(e=new s),l(e,n,o)):u?(t||(t=new u),h(t,n,o)):(r||(r={key:{},next:null}),function(e,t,r){var n=g(e,t);n?n.value=r:e.next={key:t,next:e.next,value:r}}(r,n,o))}};return n}},86373:(e,t,r)=>{"use strict";var n=r(9496),o=SyntaxError,i="object"==typeof StopIteration?StopIteration:null;e.exports=function(e){if(!i)throw new o("this environment lacks StopIteration");n.set(e,"[[Done]]",!1);var t={next:function(){var e=n.get(this,"[[Iterator]]"),t=n.get(e,"[[Done]]");try{return{done:t,value:t?void 0:e.next()}}catch(t){if(n.set(e,"[[Done]]",!0),t!==i)throw t;return{done:!0,value:void 0}}}};return n.set(t,"[[Iterator]]",e),t}},47962:(e,t,r)=>{"use strict";r.r(t),r.d(t,{YMapRuler:()=>Zo});var n=r(38575),o=r(70724),i=r(99506),a=r(85095),s=r(21093),u=r(29487),c=r(31599),l=r(88546),p=r(21833),f=r(21456),h=r(43559);class y extends f.x{constructor(e){super(e),this.element=e.element,this.element.style.width="100%",this.element.style.height="100%",this.element.style.position="absolute",this.element.style.top="0",this.element.style.left="0"}findObjectInPosition(){return{type:"empty-object"}}destroy(){}}const g=({effectiveMode:e})=>"raster"===e?y:null;h.t.add(g);class d extends o._p{constructor(e){super(e),this.AEC_layer=new s.F({source:"",type:"custom",implementation:g,zIndex:e.zIndex}),this.addChild(this.AEC_layer)}_onUpdate(e){void 0!==e.zIndex&&this.AEC_layer.update({zIndex:e.zIndex})}}var m=r(10251),b=Object.defineProperty,v=(e,t)=>b(e,"name",{value:t,configurable:!0}),w=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!P(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=x(e),n=x(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!P(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return P(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||m(e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return P(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};v(w,"GeojsonEquality");function P(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function x(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}v(P,"sameLength"),v(x,"explode");var E=6371008.8,S={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*E,kilometers:6371.0088,kilometres:6371.0088,meters:E,metres:E,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:E/1852,radians:1,yards:6967335.223679999},M={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function A(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function j(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!D(e[0])||!D(e[1]))throw new Error("coordinates must contain numbers");return A({type:"Point",coordinates:e},t,r)}function F(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return A({type:"Polygon",coordinates:e},t,r)}function _(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return A({type:"LineString",coordinates:e},t,r)}function C(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function O(e,t,r={}){return A({type:"MultiLineString",coordinates:e},t,r)}function k(e,t,r={}){return A({type:"MultiPoint",coordinates:e},t,r)}function I(e,t,r={}){return A({type:"MultiPolygon",coordinates:e},t,r)}function L(e,t="kilometers"){const r=S[t];if(!r)throw new Error(t+" units is invalid");return e*r}function B(e,t="kilometers"){const r=S[t];if(!r)throw new Error(t+" units is invalid");return e/r}function R(e){return 180*(e%(2*Math.PI))/Math.PI}function D(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}v(A,"feature"),v((function(e,t,r={}){switch(e){case"Point":return j(t).geometry;case"LineString":return _(t).geometry;case"Polygon":return F(t).geometry;case"MultiPoint":return k(t).geometry;case"MultiLineString":return O(t).geometry;case"MultiPolygon":return I(t).geometry;default:throw new Error(e+" is invalid")}}),"geometry"),v(j,"point"),v((function(e,t,r={}){return C(e.map((e=>j(e,t))),r)}),"points"),v(F,"polygon"),v((function(e,t,r={}){return C(e.map((e=>F(e,t))),r)}),"polygons"),v(_,"lineString"),v((function(e,t,r={}){return C(e.map((e=>_(e,t))),r)}),"lineStrings"),v(C,"featureCollection"),v(O,"multiLineString"),v(k,"multiPoint"),v(I,"multiPolygon"),v((function(e,t,r={}){return A({type:"GeometryCollection",geometries:e},t,r)}),"geometryCollection"),v((function(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}),"round"),v(L,"radiansToLength"),v(B,"lengthToRadians"),v((function(e,t){return R(B(e,t))}),"lengthToDegrees"),v((function(e){let t=e%360;return t<0&&(t+=360),t}),"bearingToAzimuth"),v(R,"radiansToDegrees"),v((function(e){return e%360*Math.PI/180}),"degreesToRadians"),v((function(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return L(B(e,t),r)}),"convertLength"),v((function(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=M[t];if(!n)throw new Error("invalid original units");const o=M[r];if(!o)throw new Error("invalid final units");return e/n*o}),"convertArea"),v(D,"isNumber"),v((function(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}),"isObject"),v((function(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!D(e))throw new Error("bbox must only contain numbers")}))}),"validateBBox"),v((function(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}),"validateId");var T=Object.defineProperty,G=(e,t)=>T(e,"name",{value:t,configurable:!0});function q(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return[...e.geometry.coordinates];if("Point"===e.type)return[...e.coordinates]}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return[...e];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function N(e){if(Array.isArray(e))return e;if("Feature"===e.type){if(null!==e.geometry)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function U(e){return"Feature"===e.type?e.geometry:e}G(q,"getCoord"),G(N,"getCoords"),G((function e(t){if(t.length>1&&D(t[0])&&D(t[1]))return!0;if(Array.isArray(t[0])&&t[0].length)return e(t[0]);throw new Error("coordinates must only contain numbers")}),"containsNumber"),G((function(e,t,r){if(!t||!r)throw new Error("type and name required");if(!e||e.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.type)}),"geojsonType"),G((function(e,t,r){if(!e)throw new Error("No feature passed");if(!r)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.geometry.type)}),"featureOf"),G((function(e,t,r){if(!e)throw new Error("No featureCollection passed");if(!r)throw new Error(".collectionOf() requires a name");if(!e||"FeatureCollection"!==e.type)throw new Error("Invalid input to "+r+", FeatureCollection required");for(const n of e.features){if(!n||"Feature"!==n.type||!n.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!n.geometry||n.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+n.geometry.type)}}),"collectionOf"),G(U,"getGeom"),G((function(e,t){return"FeatureCollection"===e.type?"FeatureCollection":"GeometryCollection"===e.type?"GeometryCollection":"Feature"===e.type&&null!==e.geometry?e.geometry.type:e.type}),"getType");var W=Object.defineProperty,Y=(e,t)=>W(e,"name",{value:t,configurable:!0}),X=Math.PI/180,$=180/Math.PI,z=Y((function(e,t){this.lon=e,this.lat=t,this.x=X*e,this.y=X*t}),"Coord");z.prototype.view=function(){return String(this.lon).slice(0,4)+","+String(this.lat).slice(0,4)},z.prototype.antipode=function(){var e=-1*this.lat,t=this.lon<0?180+this.lon:-1*(180-this.lon);return new z(t,e)};var H=Y((function(){this.coords=[],this.length=0}),"LineString");H.prototype.move_to=function(e){this.length++,this.coords.push(e)};var J=Y((function(e){this.properties=e||{},this.geometries=[]}),"Arc");J.prototype.json=function(){if(this.geometries.length<=0)return{geometry:{type:"LineString",coordinates:null},type:"Feature",properties:this.properties};if(1===this.geometries.length)return{geometry:{type:"LineString",coordinates:this.geometries[0].coords},type:"Feature",properties:this.properties};for(var e=[],t=0;t<this.geometries.length;t++)e.push(this.geometries[t].coords);return{geometry:{type:"MultiLineString",coordinates:e},type:"Feature",properties:this.properties}},J.prototype.wkt=function(){for(var e="",t="LINESTRING(",r=Y((function(e){t+=e[0]+" "+e[1]+","}),"collect"),n=0;n<this.geometries.length;n++){if(0===this.geometries[n].coords.length)return"LINESTRING(empty)";this.geometries[n].coords.forEach(r),e+=t.substring(0,t.length-1)+")"}return e};var V=Y((function(e,t,r){if(!e||void 0===e.x||void 0===e.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");if(!t||void 0===t.x||void 0===t.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");this.start=new z(e.x,e.y),this.end=new z(t.x,t.y),this.properties=r||{};var n=this.start.x-this.end.x,o=this.start.y-this.end.y,i=Math.pow(Math.sin(o/2),2)+Math.cos(this.start.y)*Math.cos(this.end.y)*Math.pow(Math.sin(n/2),2);if(this.g=2*Math.asin(Math.sqrt(i)),this.g===Math.PI)throw new Error("it appears "+e.view()+" and "+t.view()+" are 'antipodal', e.g diametrically opposite, thus there is no single route but rather infinite");if(isNaN(this.g))throw new Error("could not calculate great circle between "+e+" and "+t)}),"GreatCircle");function Z(e,t,r){if("object"!=typeof(r=r||{}))throw new Error("options is invalid");var n=r.properties,o=r.npoints,i=r.offset;return e=q(e),t=q(t),n=n||{},o=o||100,i=i||10,new V({x:e[0],y:e[1]},{x:t[0],y:t[1]},n).Arc(o,{offset:i}).json()}V.prototype.interpolate=function(e){var t=Math.sin((1-e)*this.g)/Math.sin(this.g),r=Math.sin(e*this.g)/Math.sin(this.g),n=t*Math.cos(this.start.y)*Math.cos(this.start.x)+r*Math.cos(this.end.y)*Math.cos(this.end.x),o=t*Math.cos(this.start.y)*Math.sin(this.start.x)+r*Math.cos(this.end.y)*Math.sin(this.end.x),i=t*Math.sin(this.start.y)+r*Math.sin(this.end.y),a=$*Math.atan2(i,Math.sqrt(Math.pow(n,2)+Math.pow(o,2)));return[$*Math.atan2(o,n),a]},V.prototype.Arc=function(e,t){var r=[];if(!e||e<=2)r.push([this.start.lon,this.start.lat]),r.push([this.end.lon,this.end.lat]);else for(var n=1/(e-1),o=0;o<e;++o){var i=n*o,a=this.interpolate(i);r.push(a)}for(var s=!1,u=0,c=t&&t.offset?t.offset:10,l=180-c,p=-180+c,f=360-c,h=1;h<r.length;++h){var y=r[h-1][0],g=r[h][0],d=Math.abs(g-y);d>f&&(g>l&&y<p||y>l&&g<p)?s=!0:d>u&&(u=d)}var m=[];if(s&&u<c){var b=[];m.push(b);for(var v=0;v<r.length;++v){var w=parseFloat(r[v][0]);if(v>0&&Math.abs(w-r[v-1][0])>f){var P=parseFloat(r[v-1][0]),x=parseFloat(r[v-1][1]),E=parseFloat(r[v][0]),S=parseFloat(r[v][1]);if(P>-180&&P<p&&180===E&&v+1<r.length&&r[v-1][0]>-180&&r[v-1][0]<p){b.push([-180,r[v][1]]),v++,b.push([r[v][0],r[v][1]]);continue}if(P>l&&P<180&&-180===E&&v+1<r.length&&r[v-1][0]>l&&r[v-1][0]<180){b.push([180,r[v][1]]),v++,b.push([r[v][0],r[v][1]]);continue}if(P<p&&E>l){var M=P;P=E,E=M;var A=x;x=S,S=A}if(P>l&&E<p&&(E+=360),P<=180&&E>=180&&P<E){var j=(180-P)/(E-P),F=j*S+(1-j)*x;b.push([r[v-1][0]>l?180:-180,F]),(b=[]).push([r[v-1][0]>l?-180:180,F]),m.push(b)}else b=[],m.push(b);b.push([w,r[v][1]])}else b.push([r[v][0],r[v][1]])}}else{var _=[];m.push(_);for(var C=0;C<r.length;++C)_.push([r[C][0],r[C][1]])}for(var O=new J(this.properties),k=0;k<m.length;++k){var I=new H;O.geometries.push(I);for(var L=m[k],B=0;B<L.length;++B)I.move_to(L[B])}return O},Y(Z,"greatCircle");var K=Object.defineProperty,Q=(e,t)=>K(e,"name",{value:t,configurable:!0}),ee=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!te(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=re(e),n=re(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!te(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return te(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||m(e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return te(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};Q(ee,"GeojsonEquality");function te(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function re(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}Q(te,"sameLength"),Q(re,"explode");var ne=6371008.8,oe={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:250826616.45599997,kilometers:6371.0088,kilometres:6371.0088,meters:ne,metres:ne,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:3440.069546436285,radians:1,yards:6967335.223679999},ie={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function ae(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function se(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!me(e[0])||!me(e[1]))throw new Error("coordinates must contain numbers");return ae({type:"Point",coordinates:e},t,r)}function ue(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return ae({type:"Polygon",coordinates:e},t,r)}function ce(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return ae({type:"LineString",coordinates:e},t,r)}function le(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function pe(e,t,r={}){return ae({type:"MultiLineString",coordinates:e},t,r)}function fe(e,t,r={}){return ae({type:"MultiPoint",coordinates:e},t,r)}function he(e,t,r={}){return ae({type:"MultiPolygon",coordinates:e},t,r)}function ye(e,t="kilometers"){const r=oe[t];if(!r)throw new Error(t+" units is invalid");return e*r}function ge(e,t="kilometers"){const r=oe[t];if(!r)throw new Error(t+" units is invalid");return e/r}function de(e){return 180*(e%(2*Math.PI))/Math.PI}function me(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function be(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}Q(ae,"feature"),Q((function(e,t,r={}){switch(e){case"Point":return se(t).geometry;case"LineString":return ce(t).geometry;case"Polygon":return ue(t).geometry;case"MultiPoint":return fe(t).geometry;case"MultiLineString":return pe(t).geometry;case"MultiPolygon":return he(t).geometry;default:throw new Error(e+" is invalid")}}),"geometry"),Q(se,"point"),Q((function(e,t,r={}){return le(e.map((e=>se(e,t))),r)}),"points"),Q(ue,"polygon"),Q((function(e,t,r={}){return le(e.map((e=>ue(e,t))),r)}),"polygons"),Q(ce,"lineString"),Q((function(e,t,r={}){return le(e.map((e=>ce(e,t))),r)}),"lineStrings"),Q(le,"featureCollection"),Q(pe,"multiLineString"),Q(fe,"multiPoint"),Q(he,"multiPolygon"),Q((function(e,t,r={}){return ae({type:"GeometryCollection",geometries:e},t,r)}),"geometryCollection"),Q((function(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}),"round"),Q(ye,"radiansToLength"),Q(ge,"lengthToRadians"),Q((function(e,t){return de(ge(e,t))}),"lengthToDegrees"),Q((function(e){let t=e%360;return t<0&&(t+=360),t}),"bearingToAzimuth"),Q(de,"radiansToDegrees"),Q((function(e){return e%360*Math.PI/180}),"degreesToRadians"),Q((function(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return ye(ge(e,t),r)}),"convertLength"),Q((function(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=ie[t];if(!n)throw new Error("invalid original units");const o=ie[r];if(!o)throw new Error("invalid final units");return e/n*o}),"convertArea"),Q(me,"isNumber"),Q(be,"isObject"),Q((function(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!me(e))throw new Error("bbox must only contain numbers")}))}),"validateBBox"),Q((function(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}),"validateId");var ve=Object.defineProperty,we=(e,t)=>ve(e,"name",{value:t,configurable:!0});function Pe(e,t,r){if(null!==e)for(var n,o,i,a,s,u,c,l,p=0,f=0,h=e.type,y="FeatureCollection"===h,g="Feature"===h,d=y?e.features.length:1,m=0;m<d;m++){s=(l=!!(c=y?e.features[m].geometry:g?e.geometry:e)&&"GeometryCollection"===c.type)?c.geometries.length:1;for(var b=0;b<s;b++){var v=0,w=0;if(null!==(a=l?c.geometries[b]:c)){u=a.coordinates;var P=a.type;switch(p=!r||"Polygon"!==P&&"MultiPolygon"!==P?0:1,P){case null:break;case"Point":if(!1===t(u,f,m,v,w))return!1;f++,v++;break;case"LineString":case"MultiPoint":for(n=0;n<u.length;n++){if(!1===t(u[n],f,m,v,w))return!1;f++,"MultiPoint"===P&&v++}"LineString"===P&&v++;break;case"Polygon":case"MultiLineString":for(n=0;n<u.length;n++){for(o=0;o<u[n].length-p;o++){if(!1===t(u[n][o],f,m,v,w))return!1;f++}"MultiLineString"===P&&v++,"Polygon"===P&&w++}"Polygon"===P&&v++;break;case"MultiPolygon":for(n=0;n<u.length;n++){for(w=0,o=0;o<u[n].length;o++){for(i=0;i<u[n][o].length-p;i++){if(!1===t(u[n][o][i],f,m,v,w))return!1;f++}w++}v++}break;case"GeometryCollection":for(n=0;n<a.geometries.length;n++)if(!1===Pe(a.geometries[n],t,r))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function xe(e,t){var r;switch(e.type){case"FeatureCollection":for(r=0;r<e.features.length&&!1!==t(e.features[r].properties,r);r++);break;case"Feature":t(e.properties,0)}}function Ee(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var r=0;r<e.features.length&&!1!==t(e.features[r],r);r++);}function Se(e,t){var r,n,o,i,a,s,u,c,l,p,f=0,h="FeatureCollection"===e.type,y="Feature"===e.type,g=h?e.features.length:1;for(r=0;r<g;r++){for(s=h?e.features[r].geometry:y?e.geometry:e,c=h?e.features[r].properties:y?e.properties:{},l=h?e.features[r].bbox:y?e.bbox:void 0,p=h?e.features[r].id:y?e.id:void 0,a=(u=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,o=0;o<a;o++)if(null!==(i=u?s.geometries[o]:s))switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(i,f,c,l,p))return!1;break;case"GeometryCollection":for(n=0;n<i.geometries.length;n++)if(!1===t(i.geometries[n],f,c,l,p))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,f,c,l,p))return!1;f++}}function Me(e,t){Se(e,(function(e,r,n,o,i){var a,s=null===e?null:e.type;switch(s){case null:case"Point":case"LineString":case"Polygon":return!1!==t(ae(e,n,{bbox:o,id:i}),r,0)&&void 0}switch(s){case"MultiPoint":a="Point";break;case"MultiLineString":a="LineString";break;case"MultiPolygon":a="Polygon"}for(var u=0;u<e.coordinates.length;u++){var c=e.coordinates[u];if(!1===t(ae({type:a,coordinates:c},n),r,u))return!1}}))}function Ae(e,t){Me(e,(function(e,r,n){var o=0;if(e.geometry){var i=e.geometry.type;if("Point"!==i&&"MultiPoint"!==i){var a,s=0,u=0,c=0;return!1!==Pe(e,(function(i,l,p,f,h){if(void 0===a||r>s||f>u||h>c)return a=i,s=r,u=f,c=h,void(o=0);var y=ce([a,i],e.properties);if(!1===t(y,r,n,h,o))return!1;o++,a=i}))&&void 0}}}))}function je(e,t){if(!e)throw new Error("geojson is required");Me(e,(function(e,r,n){if(null!==e.geometry){var o=e.geometry.type,i=e.geometry.coordinates;switch(o){case"LineString":if(!1===t(e,r,n,0,0))return!1;break;case"Polygon":for(var a=0;a<i.length;a++)if(!1===t(ce(i[a],e.properties),r,n,a))return!1}}}))}we(Pe,"coordEach"),we((function(e,t,r,n){var o=r;return Pe(e,(function(e,n,i,a,s){o=0===n&&void 0===r?e:t(o,e,n,i,a,s)}),n),o}),"coordReduce"),we(xe,"propEach"),we((function(e,t,r){var n=r;return xe(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}),"propReduce"),we(Ee,"featureEach"),we((function(e,t,r){var n=r;return Ee(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}),"featureReduce"),we((function(e){var t=[];return Pe(e,(function(e){t.push(e)})),t}),"coordAll"),we(Se,"geomEach"),we((function(e,t,r){var n=r;return Se(e,(function(e,o,i,a,s){n=0===o&&void 0===r?e:t(n,e,o,i,a,s)})),n}),"geomReduce"),we(Me,"flattenEach"),we((function(e,t,r){var n=r;return Me(e,(function(e,o,i){n=0===o&&0===i&&void 0===r?e:t(n,e,o,i)})),n}),"flattenReduce"),we(Ae,"segmentEach"),we((function(e,t,r){var n=r,o=!1;return Ae(e,(function(e,i,a,s,u){n=!1===o&&void 0===r?e:t(n,e,i,a,s,u),o=!0})),n}),"segmentReduce"),we(je,"lineEach"),we((function(e,t,r){var n=r;return je(e,(function(e,o,i,a){n=0===o&&void 0===r?e:t(n,e,o,i,a)})),n}),"lineReduce"),we((function(e,t){if(!be(t=t||{}))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,i=t.geometryIndex||0,a=t.segmentIndex||0,s=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),s=s||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":s=s||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var u=r.coordinates;switch(r.type){case"Point":case"MultiPoint":return null;case"LineString":return a<0&&(a=u.length+a-1),ce([u[a],u[a+1]],s,t);case"Polygon":return i<0&&(i=u.length+i),a<0&&(a=u[i].length+a-1),ce([u[i][a],u[i][a+1]],s,t);case"MultiLineString":return o<0&&(o=u.length+o),a<0&&(a=u[o].length+a-1),ce([u[o][a],u[o][a+1]],s,t);case"MultiPolygon":return o<0&&(o=u.length+o),i<0&&(i=u[o].length+i),a<0&&(a=u[o][i].length-a-1),ce([u[o][i][a],u[o][i][a+1]],s,t)}throw new Error("geojson is invalid")}),"findSegment"),we((function(e,t){if(!be(t=t||{}))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,i=t.geometryIndex||0,a=t.coordIndex||0,s=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),s=s||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":s=s||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var u=r.coordinates;switch(r.type){case"Point":return se(u,s,t);case"MultiPoint":return o<0&&(o=u.length+o),se(u[o],s,t);case"LineString":return a<0&&(a=u.length+a),se(u[a],s,t);case"Polygon":return i<0&&(i=u.length+i),a<0&&(a=u[i].length+a),se(u[i][a],s,t);case"MultiLineString":return o<0&&(o=u.length+o),a<0&&(a=u[o].length+a),se(u[o][a],s,t);case"MultiPolygon":return o<0&&(o=u.length+o),i<0&&(i=u[o].length+i),a<0&&(a=u[o][i].length-a),se(u[o][i][a],s,t)}throw new Error("geojson is invalid")}),"findPoint");var Fe=r(82582),_e=Object.defineProperty,Ce=(e,t)=>_e(e,"name",{value:t,configurable:!0}),Oe=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!ke(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=Ie(e),n=Ie(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!ke(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return ke(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||m(e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return ke(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};Ce(Oe,"GeojsonEquality");function ke(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function Ie(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}Ce(ke,"sameLength"),Ce(Ie,"explode");var Le=6371008.8,Be={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:250826616.45599997,kilometers:6371.0088,kilometres:6371.0088,meters:Le,metres:Le,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:3440.069546436285,radians:1,yards:6967335.223679999},Re={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function De(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function Te(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!He(e[0])||!He(e[1]))throw new Error("coordinates must contain numbers");return De({type:"Point",coordinates:e},t,r)}function Ge(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return De({type:"Polygon",coordinates:e},t,r)}function qe(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return De({type:"LineString",coordinates:e},t,r)}function Ne(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function Ue(e,t,r={}){return De({type:"MultiLineString",coordinates:e},t,r)}function We(e,t,r={}){return De({type:"MultiPoint",coordinates:e},t,r)}function Ye(e,t,r={}){return De({type:"MultiPolygon",coordinates:e},t,r)}function Xe(e,t="kilometers"){const r=Be[t];if(!r)throw new Error(t+" units is invalid");return e*r}function $e(e,t="kilometers"){const r=Be[t];if(!r)throw new Error(t+" units is invalid");return e/r}function ze(e){return 180*(e%(2*Math.PI))/Math.PI}function He(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function Je(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}Ce(De,"feature"),Ce((function(e,t,r={}){switch(e){case"Point":return Te(t).geometry;case"LineString":return qe(t).geometry;case"Polygon":return Ge(t).geometry;case"MultiPoint":return We(t).geometry;case"MultiLineString":return Ue(t).geometry;case"MultiPolygon":return Ye(t).geometry;default:throw new Error(e+" is invalid")}}),"geometry"),Ce(Te,"point"),Ce((function(e,t,r={}){return Ne(e.map((e=>Te(e,t))),r)}),"points"),Ce(Ge,"polygon"),Ce((function(e,t,r={}){return Ne(e.map((e=>Ge(e,t))),r)}),"polygons"),Ce(qe,"lineString"),Ce((function(e,t,r={}){return Ne(e.map((e=>qe(e,t))),r)}),"lineStrings"),Ce(Ne,"featureCollection"),Ce(Ue,"multiLineString"),Ce(We,"multiPoint"),Ce(Ye,"multiPolygon"),Ce((function(e,t,r={}){return De({type:"GeometryCollection",geometries:e},t,r)}),"geometryCollection"),Ce((function(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}),"round"),Ce(Xe,"radiansToLength"),Ce($e,"lengthToRadians"),Ce((function(e,t){return ze($e(e,t))}),"lengthToDegrees"),Ce((function(e){let t=e%360;return t<0&&(t+=360),t}),"bearingToAzimuth"),Ce(ze,"radiansToDegrees"),Ce((function(e){return e%360*Math.PI/180}),"degreesToRadians"),Ce((function(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return Xe($e(e,t),r)}),"convertLength"),Ce((function(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=Re[t];if(!n)throw new Error("invalid original units");const o=Re[r];if(!o)throw new Error("invalid final units");return e/n*o}),"convertArea"),Ce(He,"isNumber"),Ce(Je,"isObject"),Ce((function(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!He(e))throw new Error("bbox must only contain numbers")}))}),"validateBBox"),Ce((function(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}),"validateId");var Ve=Object.defineProperty,Ze=(e,t)=>Ve(e,"name",{value:t,configurable:!0});function Ke(e,t,r){if(null!==e)for(var n,o,i,a,s,u,c,l,p=0,f=0,h=e.type,y="FeatureCollection"===h,g="Feature"===h,d=y?e.features.length:1,m=0;m<d;m++){s=(l=!!(c=y?e.features[m].geometry:g?e.geometry:e)&&"GeometryCollection"===c.type)?c.geometries.length:1;for(var b=0;b<s;b++){var v=0,w=0;if(null!==(a=l?c.geometries[b]:c)){u=a.coordinates;var P=a.type;switch(p=!r||"Polygon"!==P&&"MultiPolygon"!==P?0:1,P){case null:break;case"Point":if(!1===t(u,f,m,v,w))return!1;f++,v++;break;case"LineString":case"MultiPoint":for(n=0;n<u.length;n++){if(!1===t(u[n],f,m,v,w))return!1;f++,"MultiPoint"===P&&v++}"LineString"===P&&v++;break;case"Polygon":case"MultiLineString":for(n=0;n<u.length;n++){for(o=0;o<u[n].length-p;o++){if(!1===t(u[n][o],f,m,v,w))return!1;f++}"MultiLineString"===P&&v++,"Polygon"===P&&w++}"Polygon"===P&&v++;break;case"MultiPolygon":for(n=0;n<u.length;n++){for(w=0,o=0;o<u[n].length;o++){for(i=0;i<u[n][o].length-p;i++){if(!1===t(u[n][o][i],f,m,v,w))return!1;f++}w++}v++}break;case"GeometryCollection":for(n=0;n<a.geometries.length;n++)if(!1===Ke(a.geometries[n],t,r))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function Qe(e,t){var r;switch(e.type){case"FeatureCollection":for(r=0;r<e.features.length&&!1!==t(e.features[r].properties,r);r++);break;case"Feature":t(e.properties,0)}}function et(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var r=0;r<e.features.length&&!1!==t(e.features[r],r);r++);}function tt(e,t){var r,n,o,i,a,s,u,c,l,p,f=0,h="FeatureCollection"===e.type,y="Feature"===e.type,g=h?e.features.length:1;for(r=0;r<g;r++){for(s=h?e.features[r].geometry:y?e.geometry:e,c=h?e.features[r].properties:y?e.properties:{},l=h?e.features[r].bbox:y?e.bbox:void 0,p=h?e.features[r].id:y?e.id:void 0,a=(u=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,o=0;o<a;o++)if(null!==(i=u?s.geometries[o]:s))switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(i,f,c,l,p))return!1;break;case"GeometryCollection":for(n=0;n<i.geometries.length;n++)if(!1===t(i.geometries[n],f,c,l,p))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,f,c,l,p))return!1;f++}}function rt(e,t,r){var n=r;return tt(e,(function(e,o,i,a,s){n=0===o&&void 0===r?e:t(n,e,o,i,a,s)})),n}function nt(e,t){tt(e,(function(e,r,n,o,i){var a,s=null===e?null:e.type;switch(s){case null:case"Point":case"LineString":case"Polygon":return!1!==t(De(e,n,{bbox:o,id:i}),r,0)&&void 0}switch(s){case"MultiPoint":a="Point";break;case"MultiLineString":a="LineString";break;case"MultiPolygon":a="Polygon"}for(var u=0;u<e.coordinates.length;u++){var c=e.coordinates[u];if(!1===t(De({type:a,coordinates:c},n),r,u))return!1}}))}function ot(e,t){nt(e,(function(e,r,n){var o=0;if(e.geometry){var i=e.geometry.type;if("Point"!==i&&"MultiPoint"!==i){var a,s=0,u=0,c=0;return!1!==Ke(e,(function(i,l,p,f,h){if(void 0===a||r>s||f>u||h>c)return a=i,s=r,u=f,c=h,void(o=0);var y=qe([a,i],e.properties);if(!1===t(y,r,n,h,o))return!1;o++,a=i}))&&void 0}}}))}function it(e,t){if(!e)throw new Error("geojson is required");nt(e,(function(e,r,n){if(null!==e.geometry){var o=e.geometry.type,i=e.geometry.coordinates;switch(o){case"LineString":if(!1===t(e,r,n,0,0))return!1;break;case"Polygon":for(var a=0;a<i.length;a++)if(!1===t(qe(i[a],e.properties),r,n,a))return!1}}}))}Ze(Ke,"coordEach"),Ze((function(e,t,r,n){var o=r;return Ke(e,(function(e,n,i,a,s){o=0===n&&void 0===r?e:t(o,e,n,i,a,s)}),n),o}),"coordReduce"),Ze(Qe,"propEach"),Ze((function(e,t,r){var n=r;return Qe(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}),"propReduce"),Ze(et,"featureEach"),Ze((function(e,t,r){var n=r;return et(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}),"featureReduce"),Ze((function(e){var t=[];return Ke(e,(function(e){t.push(e)})),t}),"coordAll"),Ze(tt,"geomEach"),Ze(rt,"geomReduce"),Ze(nt,"flattenEach"),Ze((function(e,t,r){var n=r;return nt(e,(function(e,o,i){n=0===o&&0===i&&void 0===r?e:t(n,e,o,i)})),n}),"flattenReduce"),Ze(ot,"segmentEach"),Ze((function(e,t,r){var n=r,o=!1;return ot(e,(function(e,i,a,s,u){n=!1===o&&void 0===r?e:t(n,e,i,a,s,u),o=!0})),n}),"segmentReduce"),Ze(it,"lineEach"),Ze((function(e,t,r){var n=r;return it(e,(function(e,o,i,a){n=0===o&&void 0===r?e:t(n,e,o,i,a)})),n}),"lineReduce"),Ze((function(e,t){if(!Je(t=t||{}))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,i=t.geometryIndex||0,a=t.segmentIndex||0,s=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),s=s||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":s=s||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var u=r.coordinates;switch(r.type){case"Point":case"MultiPoint":return null;case"LineString":return a<0&&(a=u.length+a-1),qe([u[a],u[a+1]],s,t);case"Polygon":return i<0&&(i=u.length+i),a<0&&(a=u[i].length+a-1),qe([u[i][a],u[i][a+1]],s,t);case"MultiLineString":return o<0&&(o=u.length+o),a<0&&(a=u[o].length+a-1),qe([u[o][a],u[o][a+1]],s,t);case"MultiPolygon":return o<0&&(o=u.length+o),i<0&&(i=u[o].length+i),a<0&&(a=u[o][i].length-a-1),qe([u[o][i][a],u[o][i][a+1]],s,t)}throw new Error("geojson is invalid")}),"findSegment"),Ze((function(e,t){if(!Je(t=t||{}))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,i=t.geometryIndex||0,a=t.coordIndex||0,s=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),s=s||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":s=s||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var u=r.coordinates;switch(r.type){case"Point":return Te(u,s,t);case"MultiPoint":return o<0&&(o=u.length+o),Te(u[o],s,t);case"LineString":return a<0&&(a=u.length+a),Te(u[a],s,t);case"Polygon":return i<0&&(i=u.length+i),a<0&&(a=u[i].length+a),Te(u[i][a],s,t);case"MultiLineString":return o<0&&(o=u.length+o),a<0&&(a=u[o].length+a),Te(u[o][a],s,t);case"MultiPolygon":return o<0&&(o=u.length+o),i<0&&(i=u[o].length+i),a<0&&(a=u[o][i].length-a),Te(u[o][i][a],s,t)}throw new Error("geojson is invalid")}),"findPoint");var at=Object.defineProperty,st=(e,t)=>at(e,"name",{value:t,configurable:!0});function ut(e){return rt(e,((e,t)=>e+ct(t)),0)}function ct(e){let t,r=0;switch(e.type){case"Polygon":return lt(e.coordinates);case"MultiPolygon":for(t=0;t<e.coordinates.length;t++)r+=lt(e.coordinates[t]);return r;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}function lt(e){let t=0;if(e&&e.length>0){t+=Math.abs(ht(e[0]));for(let r=1;r<e.length;r++)t-=Math.abs(ht(e[r]))}return t}st(ut,"area"),st(ct,"calculateArea"),st(lt,"polygonArea");var pt=20294876564838.72,ft=Math.PI/180;function ht(e){const t=e.length;if(t<=2)return 0;let r=0,n=0;for(;n<t;){const o=e[n],i=e[n+1===t?0:n+1],a=e[n+2>=t?(n+2)%t:n+2],s=o[0]*ft,u=i[1]*ft;r+=(a[0]*ft-s)*Math.sin(u),n++}return r*pt}st(ht,"ringArea");const yt=function(e,t){for(var r=0,n=0,o=0,i=0,a=0,s=0,u=0,c=0,l=null,p=null,f=e[0],h=e[1],y=t.length;r<y;r++){n=0;var g=t[r].length-1,d=t[r];if((l=d[0])[0]!==d[g][0]&&l[1]!==d[g][1])throw new Error("First and last coordinates in a ring must be the same");for(a=l[0]-f,s=l[1]-h;n<g;n++)if(c=(p=d[n+1])[1]-h,s<0&&c<0||s>0&&c>0)s=c,a=(l=p)[0]-f;else{if(u=p[0]-e[0],c>0&&s<=0){if((i=a*c-u*s)>0)o+=1;else if(0===i)return 0}else if(s>0&&c<=0){if((i=a*c-u*s)<0)o+=1;else if(0===i)return 0}else if(0===c&&s<0){if(0===(i=a*c-u*s))return 0}else if(0===s&&c<0){if(0===(i=a*c-u*s))return 0}else if(0===s&&0===c){if(u<=0&&a>=0)return 0;if(a<=0&&u>=0)return 0}l=p,s=c,a=u}}return o%2!=0};var gt=Object.defineProperty,dt=(e,t)=>gt(e,"name",{value:t,configurable:!0});function mt(e,t,r={}){if(!e)throw new Error("point is required");if(!t)throw new Error("polygon is required");const n=q(e),o=U(t),i=o.type,a=t.bbox;let s=o.coordinates;if(a&&!1===bt(n,a))return!1;"Polygon"===i&&(s=[s]);let u=!1;for(var c=0;c<s.length;++c){const e=yt(n,s[c]);if(0===e)return!r.ignoreBoundary;e&&(u=!0)}return u}function bt(e,t){return t[0]<=e[0]&&t[1]<=e[1]&&t[2]>=e[0]&&t[3]>=e[1]}dt(mt,"booleanPointInPolygon"),dt(bt,"inBBox");var vt=Object.defineProperty,wt=(e,t)=>vt(e,"name",{value:t,configurable:!0});function Pt(e,t,r){if("Polygon"!==e.geometry.type)throw new Error("The input feature must be a Polygon");void 0===r&&(r=1);var n=e.geometry.coordinates,o=[],i={};if(r){for(var a=[],s=0;s<n.length;s++)for(var u=0;u<n[s].length-1;u++)a.push(g(s,u));var c=new Fe;c.load(a)}for(var l=0;l<n.length;l++)for(var p=0;p<n[l].length-1;p++){if(r)c.search(g(l,p)).forEach((function(e){var t=e.ring,r=e.edge;y(l,p,t,r)}));else for(var f=0;f<n.length;f++)for(var h=0;h<n[f].length-1;h++)y(l,p,f,h)}return t||(o={type:"Feature",geometry:{type:"MultiPoint",coordinates:o}}),o;function y(e,r,a,s){var u,c,l=n[e][r],p=n[e][r+1],f=n[a][s],h=n[a][s+1],y=xt(l,p,f,h);if(null!==y&&(u=p[0]!==l[0]?(y[0]-l[0])/(p[0]-l[0]):(y[1]-l[1])/(p[1]-l[1]),c=h[0]!==f[0]?(y[0]-f[0])/(h[0]-f[0]):(y[1]-f[1])/(h[1]-f[1]),!(u>=1||u<=0||c>=1||c<=0))){var g=y,d=!i[g];d&&(i[g]=!0),t?o.push(t(y,e,r,l,p,u,a,s,f,h,c,d)):o.push(y)}}function g(e,t){var r,o,i,a,s=n[e][t],u=n[e][t+1];return s[0]<u[0]?(r=s[0],o=u[0]):(r=u[0],o=s[0]),s[1]<u[1]?(i=s[1],a=u[1]):(i=u[1],a=s[1]),{minX:r,minY:i,maxX:o,maxY:a,ring:e,edge:t}}}function xt(e,t,r,n){if(Et(e,r)||Et(e,n)||Et(t,r)||Et(n,r))return null;var o=e[0],i=e[1],a=t[0],s=t[1],u=r[0],c=r[1],l=n[0],p=n[1],f=(o-a)*(c-p)-(i-s)*(u-l);return 0===f?null:[((o*s-i*a)*(u-l)-(o-a)*(u*p-c*l))/f,((o*s-i*a)*(c-p)-(i-s)*(u*p-c*l))/f]}function Et(e,t){if(!e||!t)return!1;if(e.length!==t.length)return!1;for(var r=0,n=e.length;r<n;r++)if(e[r]instanceof Array&&t[r]instanceof Array){if(!Et(e[r],t[r]))return!1}else if(e[r]!==t[r])return!1;return!0}function St(e){if("Feature"!=e.type)throw new Error("The input must a geojson object of type Feature");if(void 0===e.geometry||null==e.geometry)throw new Error("The input must a geojson object with a non-empty geometry");if("Polygon"!=e.geometry.type)throw new Error("The input must be a geojson Polygon");for(var t=e.geometry.coordinates.length,r=[],n=0;n<t;n++){var o=e.geometry.coordinates[n];_t(o[0],o[o.length-1])||o.push(o[0]);for(var i=0;i<o.length-1;i++)r.push(o[i])}if(!Ot(r))throw new Error("The input polygon may not have duplicate vertices (except for the first and last vertex of each ring)");var a=r.length,s=Pt(e,wt((function(e,t,r,n,o,i,a,s,u,c,l,p){return[e,t,r,n,o,i,a,s,u,c,l,p]}),"filterFn")),u=s.length;if(0==u){var c=[];for(n=0;n<t;n++)c.push(ue([e.geometry.coordinates[n]],{parent:-1,winding:Ft(e.geometry.coordinates[n])}));var l=le(c);return R(),D(),l}var p=[],f=[];for(n=0;n<t;n++){p.push([]);for(i=0;i<e.geometry.coordinates[n].length-1;i++)p[n].push([new Mt(e.geometry.coordinates[n][Ct(i+1,e.geometry.coordinates[n].length-1)],1,[n,i],[n,Ct(i+1,e.geometry.coordinates[n].length-1)],void 0)]),f.push(new At(e.geometry.coordinates[n][i],[n,Ct(i-1,e.geometry.coordinates[n].length-1)],[n,i],void 0,void 0,!1,!0))}for(n=0;n<u;n++)p[s[n][1]][s[n][2]].push(new Mt(s[n][0],s[n][5],[s[n][1],s[n][2]],[s[n][6],s[n][7]],void 0)),s[n][11]&&f.push(new At(s[n][0],[s[n][1],s[n][2]],[s[n][6],s[n][7]],void 0,void 0,!0,!0));var h=f.length;for(n=0;n<p.length;n++)for(i=0;i<p[n].length;i++)p[n][i].sort((function(e,t){return e.param<t.param?-1:1}));var y=[];for(n=0;n<h;n++)y.push({minX:f[n].coord[0],minY:f[n].coord[1],maxX:f[n].coord[0],maxY:f[n].coord[1],index:n});var g=new Fe;g.load(y);for(n=0;n<p.length;n++)for(i=0;i<p[n].length;i++)for(var d=0;d<p[n][i].length;d++){b=d==p[n][i].length-1?p[n][Ct(i+1,e.geometry.coordinates[n].length-1)][0].coord:p[n][i][d+1].coord;var m=g.search({minX:b[0],minY:b[1],maxX:b[0],maxY:b[1]})[0];p[n][i][d].nxtIsectAlongEdgeIn=m.index}for(n=0;n<p.length;n++)for(i=0;i<p[n].length;i++)for(d=0;d<p[n][i].length;d++){var b=p[n][i][d].coord,v=(m=g.search({minX:b[0],minY:b[1],maxX:b[0],maxY:b[1]})[0]).index;v<a?f[v].nxtIsectAlongRingAndEdge2=p[n][i][d].nxtIsectAlongEdgeIn:_t(f[v].ringAndEdge1,p[n][i][d].ringAndEdgeIn)?f[v].nxtIsectAlongRingAndEdge1=p[n][i][d].nxtIsectAlongEdgeIn:f[v].nxtIsectAlongRingAndEdge2=p[n][i][d].nxtIsectAlongEdgeIn}var w=[];for(n=0,i=0;i<t;i++){var P=n;for(d=0;d<e.geometry.coordinates[i].length-1;d++)f[n].coord[0]<f[P].coord[0]&&(P=n),n++;var x=f[P].nxtIsectAlongRingAndEdge2;for(d=0;d<f.length;d++)if(f[d].nxtIsectAlongRingAndEdge1==P||f[d].nxtIsectAlongRingAndEdge2==P){var E=d;break}var S=jt([f[E].coord,f[P].coord,f[x].coord],!0)?1:-1;w.push({isect:P,parent:-1,winding:S})}w.sort((function(e,t){return f[e.isect].coord>f[t.isect].coord?-1:1}));for(c=[];w.length>0;){var M=w.pop(),A=M.isect,j=M.parent,F=M.winding,_=c.length,C=[f[A].coord],O=A;if(f[A].ringAndEdge1Walkable)var k=f[A].ringAndEdge1,I=f[A].nxtIsectAlongRingAndEdge1;else k=f[A].ringAndEdge2,I=f[A].nxtIsectAlongRingAndEdge2;for(;!_t(f[A].coord,f[I].coord);){C.push(f[I].coord);var L=void 0;for(n=0;n<w.length;n++)if(w[n].isect==I){L=n;break}if(null!=L&&w.splice(L,1),_t(k,f[I].ringAndEdge1)){if(k=f[I].ringAndEdge2,f[I].ringAndEdge2Walkable=!1,f[I].ringAndEdge1Walkable){var B={isect:I};jt([f[O].coord,f[I].coord,f[f[I].nxtIsectAlongRingAndEdge2].coord],1==F)?(B.parent=j,B.winding=-F):(B.parent=_,B.winding=F),w.push(B)}O=I,I=f[I].nxtIsectAlongRingAndEdge2}else{if(k=f[I].ringAndEdge1,f[I].ringAndEdge1Walkable=!1,f[I].ringAndEdge2Walkable){B={isect:I};jt([f[O].coord,f[I].coord,f[f[I].nxtIsectAlongRingAndEdge1].coord],1==F)?(B.parent=j,B.winding=-F):(B.parent=_,B.winding=F),w.push(B)}O=I,I=f[I].nxtIsectAlongRingAndEdge1}}C.push(f[I].coord),c.push(ue([C],{index:_,parent:j,winding:F,netWinding:void 0}))}l=le(c);function R(){for(var e=[],t=0;t<l.features.length;t++)-1==l.features[t].properties.parent&&e.push(t);if(e.length>1)for(t=0;t<e.length;t++){for(var r=-1,n=0;n<l.features.length;n++)e[t]!=n&&mt(l.features[e[t]].geometry.coordinates[0][0],l.features[n],{ignoreBoundary:!0})&&ut(l.features[n])<Infinity&&(r=n);l.features[e[t]].properties.parent=r}}function D(){for(var e=0;e<l.features.length;e++)if(-1==l.features[e].properties.parent){var t=l.features[e].properties.winding;l.features[e].properties.netWinding=t,T(e,t)}}function T(e,t){for(var r=0;r<l.features.length;r++)if(l.features[r].properties.parent==e){var n=t+l.features[r].properties.winding;l.features[r].properties.netWinding=n,T(r,n)}}return R(),D(),wt(R,"determineParents"),wt(D,"setNetWinding"),wt(T,"setNetWindingOfChildren"),l}wt(Pt,"geojsonPolygonSelfIntersections"),wt(xt,"intersect"),wt(Et,"equalArrays"),wt(St,"simplepolygon");var Mt=wt((function(e,t,r,n,o){this.coord=e,this.param=t,this.ringAndEdgeIn=r,this.ringAndEdgeOut=n,this.nxtIsectAlongEdgeIn=o}),"PseudoVtx"),At=wt((function(e,t,r,n,o,i,a){this.coord=e,this.ringAndEdge1=t,this.ringAndEdge2=r,this.nxtIsectAlongRingAndEdge1=n,this.nxtIsectAlongRingAndEdge2=o,this.ringAndEdge1Walkable=i,this.ringAndEdge2Walkable=a}),"Isect");function jt(e,t){if(void 0===t&&(t=!0),3!=e.length)throw new Error("This function requires an array of three points [x,y]");return(e[1][0]-e[0][0])*(e[2][1]-e[0][1])-(e[1][1]-e[0][1])*(e[2][0]-e[0][0])>=0==t}function Ft(e){for(var t=0,r=0;r<e.length-1;r++)e[r][0]<e[t][0]&&(t=r);if(jt([e[Ct(t-1,e.length-1)],e[t],e[Ct(t+1,e.length-1)]],!0))var n=1;else n=-1;return n}function _t(e,t){if(!e||!t)return!1;if(e.length!=t.length)return!1;for(var r=0,n=e.length;r<n;r++)if(e[r]instanceof Array&&t[r]instanceof Array){if(!_t(e[r],t[r]))return!1}else if(e[r]!=t[r])return!1;return!0}function Ct(e,t){return(e%t+t)%t}function Ot(e){for(var t={},r=1,n=0,o=e.length;n<o;++n){if(Object.prototype.hasOwnProperty.call(t,e[n])){r=0;break}t[e[n]]=1}return r}function kt(e){var t=[];return Me(e,(function(e){"Polygon"===e.geometry.type&&Ee(St(e),(function(r){t.push(ue(r.geometry.coordinates,e.properties))}))})),le(t)}wt(jt,"isConvex"),wt(Ft,"windingOfRing"),wt(_t,"equalArrays"),wt(Ct,"modulo"),wt(Ot,"isUnique"),wt(kt,"unkinkPolygon");var It=Object.defineProperty,Lt=(e,t)=>It(e,"name",{value:t,configurable:!0}),Bt=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!Rt(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=Dt(e),n=Dt(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!Rt(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return Rt(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||m(e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return Rt(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};Lt(Bt,"GeojsonEquality");function Rt(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function Dt(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}Lt(Rt,"sameLength"),Lt(Dt,"explode");var Tt=6371008.8,Gt={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:250826616.45599997,kilometers:6371.0088,kilometres:6371.0088,meters:Tt,metres:Tt,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:3440.069546436285,radians:1,yards:6967335.223679999},qt={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function Nt(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function Ut(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!Qt(e[0])||!Qt(e[1]))throw new Error("coordinates must contain numbers");return Nt({type:"Point",coordinates:e},t,r)}function Wt(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return Nt({type:"Polygon",coordinates:e},t,r)}function Yt(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return Nt({type:"LineString",coordinates:e},t,r)}function Xt(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function $t(e,t,r={}){return Nt({type:"MultiLineString",coordinates:e},t,r)}function zt(e,t,r={}){return Nt({type:"MultiPoint",coordinates:e},t,r)}function Ht(e,t,r={}){return Nt({type:"MultiPolygon",coordinates:e},t,r)}function Jt(e,t="kilometers"){const r=Gt[t];if(!r)throw new Error(t+" units is invalid");return e*r}function Vt(e,t="kilometers"){const r=Gt[t];if(!r)throw new Error(t+" units is invalid");return e/r}function Zt(e){return 180*(e%(2*Math.PI))/Math.PI}function Kt(e){return e%360*Math.PI/180}function Qt(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}Lt(Nt,"feature"),Lt((function(e,t,r={}){switch(e){case"Point":return Ut(t).geometry;case"LineString":return Yt(t).geometry;case"Polygon":return Wt(t).geometry;case"MultiPoint":return zt(t).geometry;case"MultiLineString":return $t(t).geometry;case"MultiPolygon":return Ht(t).geometry;default:throw new Error(e+" is invalid")}}),"geometry"),Lt(Ut,"point"),Lt((function(e,t,r={}){return Xt(e.map((e=>Ut(e,t))),r)}),"points"),Lt(Wt,"polygon"),Lt((function(e,t,r={}){return Xt(e.map((e=>Wt(e,t))),r)}),"polygons"),Lt(Yt,"lineString"),Lt((function(e,t,r={}){return Xt(e.map((e=>Yt(e,t))),r)}),"lineStrings"),Lt(Xt,"featureCollection"),Lt($t,"multiLineString"),Lt(zt,"multiPoint"),Lt(Ht,"multiPolygon"),Lt((function(e,t,r={}){return Nt({type:"GeometryCollection",geometries:e},t,r)}),"geometryCollection"),Lt((function(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}),"round"),Lt(Jt,"radiansToLength"),Lt(Vt,"lengthToRadians"),Lt((function(e,t){return Zt(Vt(e,t))}),"lengthToDegrees"),Lt((function(e){let t=e%360;return t<0&&(t+=360),t}),"bearingToAzimuth"),Lt(Zt,"radiansToDegrees"),Lt(Kt,"degreesToRadians"),Lt((function(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return Jt(Vt(e,t),r)}),"convertLength"),Lt((function(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=qt[t];if(!n)throw new Error("invalid original units");const o=qt[r];if(!o)throw new Error("invalid final units");return e/n*o}),"convertArea"),Lt(Qt,"isNumber"),Lt((function(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}),"isObject"),Lt((function(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!Qt(e))throw new Error("bbox must only contain numbers")}))}),"validateBBox"),Lt((function(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}),"validateId");function er(e,t,r={}){var n=q(e),o=q(t),i=Kt(o[1]-n[1]),a=Kt(o[0]-n[0]),s=Kt(n[1]),u=Kt(o[1]),c=Math.pow(Math.sin(i/2),2)+Math.pow(Math.sin(a/2),2)*Math.cos(s)*Math.cos(u);return Jt(2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c)),r.units)}(0,Object.defineProperty)(er,"name",{value:"distance",configurable:!0});var tr=Object.defineProperty,rr=(e,t)=>tr(e,"name",{value:t,configurable:!0}),nr=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!or(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=ir(e),n=ir(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!or(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return or(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||m(e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return or(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};rr(nr,"GeojsonEquality");function or(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function ir(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}rr(or,"sameLength"),rr(ir,"explode");var ar=6371008.8,sr={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:250826616.45599997,kilometers:6371.0088,kilometres:6371.0088,meters:ar,metres:ar,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:3440.069546436285,radians:1,yards:6967335.223679999},ur={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function cr(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function lr(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!Pr(e[0])||!Pr(e[1]))throw new Error("coordinates must contain numbers");return cr({type:"Point",coordinates:e},t,r)}function pr(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return cr({type:"Polygon",coordinates:e},t,r)}function fr(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return cr({type:"LineString",coordinates:e},t,r)}function hr(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function yr(e,t,r={}){return cr({type:"MultiLineString",coordinates:e},t,r)}function gr(e,t,r={}){return cr({type:"MultiPoint",coordinates:e},t,r)}function dr(e,t,r={}){return cr({type:"MultiPolygon",coordinates:e},t,r)}function mr(e,t="kilometers"){const r=sr[t];if(!r)throw new Error(t+" units is invalid");return e*r}function br(e,t="kilometers"){const r=sr[t];if(!r)throw new Error(t+" units is invalid");return e/r}function vr(e){return 180*(e%(2*Math.PI))/Math.PI}function wr(e){return e%360*Math.PI/180}function Pr(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}rr(cr,"feature"),rr((function(e,t,r={}){switch(e){case"Point":return lr(t).geometry;case"LineString":return fr(t).geometry;case"Polygon":return pr(t).geometry;case"MultiPoint":return gr(t).geometry;case"MultiLineString":return yr(t).geometry;case"MultiPolygon":return dr(t).geometry;default:throw new Error(e+" is invalid")}}),"geometry"),rr(lr,"point"),rr((function(e,t,r={}){return hr(e.map((e=>lr(e,t))),r)}),"points"),rr(pr,"polygon"),rr((function(e,t,r={}){return hr(e.map((e=>pr(e,t))),r)}),"polygons"),rr(fr,"lineString"),rr((function(e,t,r={}){return hr(e.map((e=>fr(e,t))),r)}),"lineStrings"),rr(hr,"featureCollection"),rr(yr,"multiLineString"),rr(gr,"multiPoint"),rr(dr,"multiPolygon"),rr((function(e,t,r={}){return cr({type:"GeometryCollection",geometries:e},t,r)}),"geometryCollection"),rr((function(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}),"round"),rr(mr,"radiansToLength"),rr(br,"lengthToRadians"),rr((function(e,t){return vr(br(e,t))}),"lengthToDegrees"),rr((function(e){let t=e%360;return t<0&&(t+=360),t}),"bearingToAzimuth"),rr(vr,"radiansToDegrees"),rr(wr,"degreesToRadians"),rr((function(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return mr(br(e,t),r)}),"convertLength"),rr((function(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=ur[t];if(!n)throw new Error("invalid original units");const o=ur[r];if(!o)throw new Error("invalid final units");return e/n*o}),"convertArea"),rr(Pr,"isNumber"),rr((function(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}),"isObject"),rr((function(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!Pr(e))throw new Error("bbox must only contain numbers")}))}),"validateBBox"),rr((function(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}),"validateId");var xr=Object.defineProperty,Er=(e,t)=>xr(e,"name",{value:t,configurable:!0});function Sr(e,t,r={}){if(!0===r.final)return Mr(e,t);const n=q(e),o=q(t),i=wr(n[0]),a=wr(o[0]),s=wr(n[1]),u=wr(o[1]),c=Math.sin(a-i)*Math.cos(u),l=Math.cos(s)*Math.sin(u)-Math.sin(s)*Math.cos(u)*Math.cos(a-i);return vr(Math.atan2(c,l))}function Mr(e,t){let r=Sr(t,e);return r=(r+180)%360,r}Er(Sr,"bearing"),Er(Mr,"calculateFinalBearing");var Ar=Object.defineProperty,jr=(e,t)=>Ar(e,"name",{value:t,configurable:!0}),Fr=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!_r(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=Cr(e),n=Cr(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!_r(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return _r(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||m(e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return _r(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};jr(Fr,"GeojsonEquality");function _r(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function Cr(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}jr(_r,"sameLength"),jr(Cr,"explode");var Or=6371008.8,kr={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:250826616.45599997,kilometers:6371.0088,kilometres:6371.0088,meters:Or,metres:Or,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:3440.069546436285,radians:1,yards:6967335.223679999},Ir={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function Lr(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function Br(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!$r(e[0])||!$r(e[1]))throw new Error("coordinates must contain numbers");return Lr({type:"Point",coordinates:e},t,r)}function Rr(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return Lr({type:"Polygon",coordinates:e},t,r)}function Dr(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return Lr({type:"LineString",coordinates:e},t,r)}function Tr(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function Gr(e,t,r={}){return Lr({type:"MultiLineString",coordinates:e},t,r)}function qr(e,t,r={}){return Lr({type:"MultiPoint",coordinates:e},t,r)}function Nr(e,t,r={}){return Lr({type:"MultiPolygon",coordinates:e},t,r)}function Ur(e,t="kilometers"){const r=kr[t];if(!r)throw new Error(t+" units is invalid");return e*r}function Wr(e,t="kilometers"){const r=kr[t];if(!r)throw new Error(t+" units is invalid");return e/r}function Yr(e){return 180*(e%(2*Math.PI))/Math.PI}function Xr(e){return e%360*Math.PI/180}function $r(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}jr(Lr,"feature"),jr((function(e,t,r={}){switch(e){case"Point":return Br(t).geometry;case"LineString":return Dr(t).geometry;case"Polygon":return Rr(t).geometry;case"MultiPoint":return qr(t).geometry;case"MultiLineString":return Gr(t).geometry;case"MultiPolygon":return Nr(t).geometry;default:throw new Error(e+" is invalid")}}),"geometry"),jr(Br,"point"),jr((function(e,t,r={}){return Tr(e.map((e=>Br(e,t))),r)}),"points"),jr(Rr,"polygon"),jr((function(e,t,r={}){return Tr(e.map((e=>Rr(e,t))),r)}),"polygons"),jr(Dr,"lineString"),jr((function(e,t,r={}){return Tr(e.map((e=>Dr(e,t))),r)}),"lineStrings"),jr(Tr,"featureCollection"),jr(Gr,"multiLineString"),jr(qr,"multiPoint"),jr(Nr,"multiPolygon"),jr((function(e,t,r={}){return Lr({type:"GeometryCollection",geometries:e},t,r)}),"geometryCollection"),jr((function(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}),"round"),jr(Ur,"radiansToLength"),jr(Wr,"lengthToRadians"),jr((function(e,t){return Yr(Wr(e,t))}),"lengthToDegrees"),jr((function(e){let t=e%360;return t<0&&(t+=360),t}),"bearingToAzimuth"),jr(Yr,"radiansToDegrees"),jr(Xr,"degreesToRadians"),jr((function(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return Ur(Wr(e,t),r)}),"convertLength"),jr((function(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=Ir[t];if(!n)throw new Error("invalid original units");const o=Ir[r];if(!o)throw new Error("invalid final units");return e/n*o}),"convertArea"),jr($r,"isNumber"),jr((function(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}),"isObject"),jr((function(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!$r(e))throw new Error("bbox must only contain numbers")}))}),"validateBBox"),jr((function(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}),"validateId");var zr=Object.defineProperty;function Hr(e,t,r,n={}){const o=q(e),i=Xr(o[0]),a=Xr(o[1]),s=Xr(r),u=Wr(t,n.units),c=Math.asin(Math.sin(a)*Math.cos(u)+Math.cos(a)*Math.sin(u)*Math.cos(s));return Br([Yr(i+Math.atan2(Math.sin(s)*Math.sin(u)*Math.cos(a),Math.cos(u)-Math.sin(a)*Math.sin(c))),Yr(c)],n.properties)}((e,t)=>{zr(e,"name",{value:t,configurable:!0})})(Hr,"destination");var Jr=Object.defineProperty,Vr=(e,t)=>Jr(e,"name",{value:t,configurable:!0}),Zr=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!Kr(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=Qr(e),n=Qr(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!Kr(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return Kr(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||m(e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return Kr(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};Vr(Zr,"GeojsonEquality");function Kr(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function Qr(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}Vr(Kr,"sameLength"),Vr(Qr,"explode");var en=6371008.8,tn={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:250826616.45599997,kilometers:6371.0088,kilometres:6371.0088,meters:en,metres:en,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:3440.069546436285,radians:1,yards:6967335.223679999},rn={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function nn(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function on(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!gn(e[0])||!gn(e[1]))throw new Error("coordinates must contain numbers");return nn({type:"Point",coordinates:e},t,r)}function an(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return nn({type:"Polygon",coordinates:e},t,r)}function sn(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return nn({type:"LineString",coordinates:e},t,r)}function un(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function cn(e,t,r={}){return nn({type:"MultiLineString",coordinates:e},t,r)}function ln(e,t,r={}){return nn({type:"MultiPoint",coordinates:e},t,r)}function pn(e,t,r={}){return nn({type:"MultiPolygon",coordinates:e},t,r)}function fn(e,t="kilometers"){const r=tn[t];if(!r)throw new Error(t+" units is invalid");return e*r}function hn(e,t="kilometers"){const r=tn[t];if(!r)throw new Error(t+" units is invalid");return e/r}function yn(e){return 180*(e%(2*Math.PI))/Math.PI}function gn(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}Vr(nn,"feature"),Vr((function(e,t,r={}){switch(e){case"Point":return on(t).geometry;case"LineString":return sn(t).geometry;case"Polygon":return an(t).geometry;case"MultiPoint":return ln(t).geometry;case"MultiLineString":return cn(t).geometry;case"MultiPolygon":return pn(t).geometry;default:throw new Error(e+" is invalid")}}),"geometry"),Vr(on,"point"),Vr((function(e,t,r={}){return un(e.map((e=>on(e,t))),r)}),"points"),Vr(an,"polygon"),Vr((function(e,t,r={}){return un(e.map((e=>an(e,t))),r)}),"polygons"),Vr(sn,"lineString"),Vr((function(e,t,r={}){return un(e.map((e=>sn(e,t))),r)}),"lineStrings"),Vr(un,"featureCollection"),Vr(cn,"multiLineString"),Vr(ln,"multiPoint"),Vr(pn,"multiPolygon"),Vr((function(e,t,r={}){return nn({type:"GeometryCollection",geometries:e},t,r)}),"geometryCollection"),Vr((function(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}),"round"),Vr(fn,"radiansToLength"),Vr(hn,"lengthToRadians"),Vr((function(e,t){return yn(hn(e,t))}),"lengthToDegrees"),Vr((function(e){let t=e%360;return t<0&&(t+=360),t}),"bearingToAzimuth"),Vr(yn,"radiansToDegrees"),Vr((function(e){return e%360*Math.PI/180}),"degreesToRadians"),Vr((function(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return fn(hn(e,t),r)}),"convertLength"),Vr((function(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=rn[t];if(!n)throw new Error("invalid original units");const o=rn[r];if(!o)throw new Error("invalid final units");return e/n*o}),"convertArea"),Vr(gn,"isNumber"),Vr((function(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}),"isObject"),Vr((function(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!gn(e))throw new Error("bbox must only contain numbers")}))}),"validateBBox"),Vr((function(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}),"validateId");class dn{constructor(e=[],t=mn){if(this.data=e,this.length=this.data.length,this.compare=t,this.length>0)for(let e=(this.length>>1)-1;e>=0;e--)this._down(e)}push(e){this.data.push(e),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;const e=this.data[0],t=this.data.pop();return this.length--,this.length>0&&(this.data[0]=t,this._down(0)),e}peek(){return this.data[0]}_up(e){const{data:t,compare:r}=this,n=t[e];for(;e>0;){const o=e-1>>1,i=t[o];if(r(n,i)>=0)break;t[e]=i,e=o}t[e]=n}_down(e){const{data:t,compare:r}=this,n=this.length>>1,o=t[e];for(;e<n;){let n=1+(e<<1),i=t[n];const a=n+1;if(a<this.length&&r(t[a],i)<0&&(n=a,i=t[a]),r(i,o)>=0)break;t[e]=i,e=n}t[e]=o}}function mn(e,t){return e<t?-1:e>t?1:0}function bn(e,t){return e.p.x>t.p.x?1:e.p.x<t.p.x?-1:e.p.y!==t.p.y?e.p.y>t.p.y?1:-1:1}function vn(e,t){return e.rightSweepEvent.p.x>t.rightSweepEvent.p.x?1:e.rightSweepEvent.p.x<t.rightSweepEvent.p.x?-1:e.rightSweepEvent.p.y!==t.rightSweepEvent.p.y?e.rightSweepEvent.p.y<t.rightSweepEvent.p.y?1:-1:1}class wn{constructor(e,t,r,n){this.p={x:e[0],y:e[1]},this.featureId=t,this.ringId=r,this.eventId=n,this.otherEvent=null,this.isLeftEndpoint=null}isSamePoint(e){return this.p.x===e.p.x&&this.p.y===e.p.y}}let Pn=0,xn=0,En=0;function Sn(e,t){const r="Feature"===e.type?e.geometry:e;let n=r.coordinates;"Polygon"!==r.type&&"MultiLineString"!==r.type||(n=[n]),"LineString"===r.type&&(n=[[n]]);for(let e=0;e<n.length;e++)for(let r=0;r<n[e].length;r++){let o=n[e][r][0],i=null;xn+=1;for(let a=0;a<n[e][r].length-1;a++){i=n[e][r][a+1];const s=new wn(o,Pn,xn,En),u=new wn(i,Pn,xn,En+1);s.otherEvent=u,u.otherEvent=s,bn(s,u)>0?(u.isLeftEndpoint=!0,s.isLeftEndpoint=!1):(s.isLeftEndpoint=!0,u.isLeftEndpoint=!1),t.push(s),t.push(u),o=i,En+=1}}Pn+=1}class Mn{constructor(e){this.leftSweepEvent=e,this.rightSweepEvent=e.otherEvent}}function An(e,t){if(null===e||null===t)return!1;if(e.leftSweepEvent.ringId===t.leftSweepEvent.ringId&&(e.rightSweepEvent.isSamePoint(t.leftSweepEvent)||e.rightSweepEvent.isSamePoint(t.leftSweepEvent)||e.rightSweepEvent.isSamePoint(t.rightSweepEvent)||e.leftSweepEvent.isSamePoint(t.leftSweepEvent)||e.leftSweepEvent.isSamePoint(t.rightSweepEvent)))return!1;const r=e.leftSweepEvent.p.x,n=e.leftSweepEvent.p.y,o=e.rightSweepEvent.p.x,i=e.rightSweepEvent.p.y,a=t.leftSweepEvent.p.x,s=t.leftSweepEvent.p.y,u=t.rightSweepEvent.p.x,c=t.rightSweepEvent.p.y,l=(c-s)*(o-r)-(u-a)*(i-n),p=(u-a)*(n-s)-(c-s)*(r-a),f=(o-r)*(n-s)-(i-n)*(r-a);if(0===l)return!1;const h=p/l,y=f/l;if(h>=0&&h<=1&&y>=0&&y<=1){return[r+h*(o-r),n+h*(i-n)]}return!1}const jn=function(e,t){const r=new dn([],bn);return function(e,t){if("FeatureCollection"===e.type){const r=e.features;for(let e=0;e<r.length;e++)Sn(r[e],t)}else Sn(e,t)}(e,r),function(e,t){t=t||!1;const r=[],n=new dn([],vn);for(;e.length;){const o=e.pop();if(o.isLeftEndpoint){const e=new Mn(o);for(let i=0;i<n.data.length;i++){const a=n.data[i];if(t&&a.leftSweepEvent.featureId===o.featureId)continue;const s=An(e,a);!1!==s&&r.push(s)}n.push(e)}else!1===o.isLeftEndpoint&&n.pop()}return r}(r,t)};var Fn=Object.defineProperty,_n=jn;function Cn(e,t,r={}){const{removeDuplicates:n=!0,ignoreSelfIntersections:o=!1}=r;let i=[];"FeatureCollection"===e.type?i=i.concat(e.features):"Feature"===e.type?i.push(e):"LineString"!==e.type&&"Polygon"!==e.type&&"MultiLineString"!==e.type&&"MultiPolygon"!==e.type||i.push(nn(e)),"FeatureCollection"===t.type?i=i.concat(t.features):"Feature"===t.type?i.push(t):"LineString"!==t.type&&"Polygon"!==t.type&&"MultiLineString"!==t.type&&"MultiPolygon"!==t.type||i.push(nn(t));const a=_n(un(i),o);let s=[];if(n){const e={};a.forEach((t=>{const r=t.join(",");e[r]||(e[r]=!0,s.push(t))}))}else s=a;return un(s.map((e=>on(e))))}((e,t)=>{Fn(e,"name",{value:t,configurable:!0})})(Cn,"lineIntersect");var On=Object.defineProperty,kn=(e,t)=>On(e,"name",{value:t,configurable:!0}),In=class{constructor(e){var t,r,n;this.direction=!1,this.compareProperties=!0,this.precision=10**-(null!=(t=null==e?void 0:e.precision)?t:17),this.direction=null!=(r=null==e?void 0:e.direction)&&r,this.compareProperties=null==(n=null==e?void 0:e.compareProperties)||n}compare(e,t){if(e.type!==t.type)return!1;if(!Ln(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates);case"Polygon":return this.comparePolygon(e,t);case"GeometryCollection":return this.compareGeometryCollection(e,t);case"Feature":return this.compareFeature(e,t);case"FeatureCollection":return this.compareFeatureCollection(e,t);default:if(e.type.startsWith("Multi")){const r=Bn(e),n=Bn(t);return r.every((e=>n.some((t=>this.compare(e,t)))))}}return!1}compareCoord(e,t){return e.length===t.length&&e.every(((e,r)=>Math.abs(e-t[r])<this.precision))}compareLine(e,t,r=0,n=!1){if(!Ln(e,t))return!1;const o=e;let i=t;if(n&&!this.compareCoord(o[0],i[0])){const e=this.fixStartIndex(i,o);if(!e)return!1;i=e}const a=this.compareCoord(o[r],i[r]);return this.direction||a?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}fixStartIndex(e,t){let r,n=-1;for(let r=0;r<e.length;r++)if(this.compareCoord(e[r],t[0])){n=r;break}return n>=0&&(r=[].concat(e.slice(n,e.length),e.slice(1,n+1))),r}comparePath(e,t){return e.every(((e,r)=>this.compareCoord(e,t[r])))}comparePolygon(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){const r=e.coordinates.slice(1,e.coordinates.length),n=t.coordinates.slice(1,t.coordinates.length);return r.every((e=>n.some((t=>this.compareLine(e,t,1,!0)))))}return!1}compareGeometryCollection(e,t){return Ln(e.geometries,t.geometries)&&this.compareBBox(e,t)&&e.geometries.every(((e,r)=>this.compare(e,t.geometries[r])))}compareFeature(e,t){return e.id===t.id&&(!this.compareProperties||m(e.properties,t.properties))&&this.compareBBox(e,t)&&this.compare(e.geometry,t.geometry)}compareFeatureCollection(e,t){return Ln(e.features,t.features)&&this.compareBBox(e,t)&&e.features.every(((e,r)=>this.compare(e,t.features[r])))}compareBBox(e,t){return Boolean(!e.bbox&&!t.bbox)||!(!e.bbox||!t.bbox)&&this.compareCoord(e.bbox,t.bbox)}};kn(In,"GeojsonEquality");function Ln(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}function Bn(e){return e.coordinates.map((t=>({type:e.type.replace("Multi",""),coordinates:t})))}kn(Ln,"sameLength"),kn(Bn,"explode");var Rn=6371008.8,Dn={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:250826616.45599997,kilometers:6371.0088,kilometres:6371.0088,meters:Rn,metres:Rn,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:3440.069546436285,radians:1,yards:6967335.223679999},Tn={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,nauticalmiles:2.9155334959812285e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function Gn(e,t,r={}){const n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function qn(e,t,r={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!Vn(e[0])||!Vn(e[1]))throw new Error("coordinates must contain numbers");return Gn({type:"Point",coordinates:e},t,r)}function Nn(e,t,r={}){for(const t of e){if(t.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(t[t.length-1].length!==t[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<t[t.length-1].length;e++)if(t[t.length-1][e]!==t[0][e])throw new Error("First and last Position are not equivalent.")}return Gn({type:"Polygon",coordinates:e},t,r)}function Un(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return Gn({type:"LineString",coordinates:e},t,r)}function Wn(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function Yn(e,t,r={}){return Gn({type:"MultiLineString",coordinates:e},t,r)}function Xn(e,t,r={}){return Gn({type:"MultiPoint",coordinates:e},t,r)}function $n(e,t,r={}){return Gn({type:"MultiPolygon",coordinates:e},t,r)}function zn(e,t="kilometers"){const r=Dn[t];if(!r)throw new Error(t+" units is invalid");return e*r}function Hn(e,t="kilometers"){const r=Dn[t];if(!r)throw new Error(t+" units is invalid");return e/r}function Jn(e){return 180*(e%(2*Math.PI))/Math.PI}function Vn(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function Zn(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}kn(Gn,"feature"),kn((function(e,t,r={}){switch(e){case"Point":return qn(t).geometry;case"LineString":return Un(t).geometry;case"Polygon":return Nn(t).geometry;case"MultiPoint":return Xn(t).geometry;case"MultiLineString":return Yn(t).geometry;case"MultiPolygon":return $n(t).geometry;default:throw new Error(e+" is invalid")}}),"geometry"),kn(qn,"point"),kn((function(e,t,r={}){return Wn(e.map((e=>qn(e,t))),r)}),"points"),kn(Nn,"polygon"),kn((function(e,t,r={}){return Wn(e.map((e=>Nn(e,t))),r)}),"polygons"),kn(Un,"lineString"),kn((function(e,t,r={}){return Wn(e.map((e=>Un(e,t))),r)}),"lineStrings"),kn(Wn,"featureCollection"),kn(Yn,"multiLineString"),kn(Xn,"multiPoint"),kn($n,"multiPolygon"),kn((function(e,t,r={}){return Gn({type:"GeometryCollection",geometries:e},t,r)}),"geometryCollection"),kn((function(e,t=0){if(t&&!(t>=0))throw new Error("precision must be a positive number");const r=Math.pow(10,t||0);return Math.round(e*r)/r}),"round"),kn(zn,"radiansToLength"),kn(Hn,"lengthToRadians"),kn((function(e,t){return Jn(Hn(e,t))}),"lengthToDegrees"),kn((function(e){let t=e%360;return t<0&&(t+=360),t}),"bearingToAzimuth"),kn(Jn,"radiansToDegrees"),kn((function(e){return e%360*Math.PI/180}),"degreesToRadians"),kn((function(e,t="kilometers",r="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return zn(Hn(e,t),r)}),"convertLength"),kn((function(e,t="meters",r="kilometers"){if(!(e>=0))throw new Error("area must be a positive number");const n=Tn[t];if(!n)throw new Error("invalid original units");const o=Tn[r];if(!o)throw new Error("invalid final units");return e/n*o}),"convertArea"),kn(Vn,"isNumber"),kn(Zn,"isObject"),kn((function(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((e=>{if(!Vn(e))throw new Error("bbox must only contain numbers")}))}),"validateBBox"),kn((function(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}),"validateId");var Kn=Object.defineProperty,Qn=(e,t)=>Kn(e,"name",{value:t,configurable:!0});function eo(e,t,r){if(null!==e)for(var n,o,i,a,s,u,c,l,p=0,f=0,h=e.type,y="FeatureCollection"===h,g="Feature"===h,d=y?e.features.length:1,m=0;m<d;m++){s=(l=!!(c=y?e.features[m].geometry:g?e.geometry:e)&&"GeometryCollection"===c.type)?c.geometries.length:1;for(var b=0;b<s;b++){var v=0,w=0;if(null!==(a=l?c.geometries[b]:c)){u=a.coordinates;var P=a.type;switch(p=!r||"Polygon"!==P&&"MultiPolygon"!==P?0:1,P){case null:break;case"Point":if(!1===t(u,f,m,v,w))return!1;f++,v++;break;case"LineString":case"MultiPoint":for(n=0;n<u.length;n++){if(!1===t(u[n],f,m,v,w))return!1;f++,"MultiPoint"===P&&v++}"LineString"===P&&v++;break;case"Polygon":case"MultiLineString":for(n=0;n<u.length;n++){for(o=0;o<u[n].length-p;o++){if(!1===t(u[n][o],f,m,v,w))return!1;f++}"MultiLineString"===P&&v++,"Polygon"===P&&w++}"Polygon"===P&&v++;break;case"MultiPolygon":for(n=0;n<u.length;n++){for(w=0,o=0;o<u[n].length;o++){for(i=0;i<u[n][o].length-p;i++){if(!1===t(u[n][o][i],f,m,v,w))return!1;f++}w++}v++}break;case"GeometryCollection":for(n=0;n<a.geometries.length;n++)if(!1===eo(a.geometries[n],t,r))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function to(e,t){var r;switch(e.type){case"FeatureCollection":for(r=0;r<e.features.length&&!1!==t(e.features[r].properties,r);r++);break;case"Feature":t(e.properties,0)}}function ro(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var r=0;r<e.features.length&&!1!==t(e.features[r],r);r++);}function no(e,t){var r,n,o,i,a,s,u,c,l,p,f=0,h="FeatureCollection"===e.type,y="Feature"===e.type,g=h?e.features.length:1;for(r=0;r<g;r++){for(s=h?e.features[r].geometry:y?e.geometry:e,c=h?e.features[r].properties:y?e.properties:{},l=h?e.features[r].bbox:y?e.bbox:void 0,p=h?e.features[r].id:y?e.id:void 0,a=(u=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,o=0;o<a;o++)if(null!==(i=u?s.geometries[o]:s))switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(i,f,c,l,p))return!1;break;case"GeometryCollection":for(n=0;n<i.geometries.length;n++)if(!1===t(i.geometries[n],f,c,l,p))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,f,c,l,p))return!1;f++}}function oo(e,t){no(e,(function(e,r,n,o,i){var a,s=null===e?null:e.type;switch(s){case null:case"Point":case"LineString":case"Polygon":return!1!==t(Gn(e,n,{bbox:o,id:i}),r,0)&&void 0}switch(s){case"MultiPoint":a="Point";break;case"MultiLineString":a="LineString";break;case"MultiPolygon":a="Polygon"}for(var u=0;u<e.coordinates.length;u++){var c=e.coordinates[u];if(!1===t(Gn({type:a,coordinates:c},n),r,u))return!1}}))}function io(e,t){oo(e,(function(e,r,n){var o=0;if(e.geometry){var i=e.geometry.type;if("Point"!==i&&"MultiPoint"!==i){var a,s=0,u=0,c=0;return!1!==eo(e,(function(i,l,p,f,h){if(void 0===a||r>s||f>u||h>c)return a=i,s=r,u=f,c=h,void(o=0);var y=Un([a,i],e.properties);if(!1===t(y,r,n,h,o))return!1;o++,a=i}))&&void 0}}}))}function ao(e,t){if(!e)throw new Error("geojson is required");oo(e,(function(e,r,n){if(null!==e.geometry){var o=e.geometry.type,i=e.geometry.coordinates;switch(o){case"LineString":if(!1===t(e,r,n,0,0))return!1;break;case"Polygon":for(var a=0;a<i.length;a++)if(!1===t(Un(i[a],e.properties),r,n,a))return!1}}}))}Qn(eo,"coordEach"),Qn((function(e,t,r,n){var o=r;return eo(e,(function(e,n,i,a,s){o=0===n&&void 0===r?e:t(o,e,n,i,a,s)}),n),o}),"coordReduce"),Qn(to,"propEach"),Qn((function(e,t,r){var n=r;return to(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}),"propReduce"),Qn(ro,"featureEach"),Qn((function(e,t,r){var n=r;return ro(e,(function(e,o){n=0===o&&void 0===r?e:t(n,e,o)})),n}),"featureReduce"),Qn((function(e){var t=[];return eo(e,(function(e){t.push(e)})),t}),"coordAll"),Qn(no,"geomEach"),Qn((function(e,t,r){var n=r;return no(e,(function(e,o,i,a,s){n=0===o&&void 0===r?e:t(n,e,o,i,a,s)})),n}),"geomReduce"),Qn(oo,"flattenEach"),Qn((function(e,t,r){var n=r;return oo(e,(function(e,o,i){n=0===o&&0===i&&void 0===r?e:t(n,e,o,i)})),n}),"flattenReduce"),Qn(io,"segmentEach"),Qn((function(e,t,r){var n=r,o=!1;return io(e,(function(e,i,a,s,u){n=!1===o&&void 0===r?e:t(n,e,i,a,s,u),o=!0})),n}),"segmentReduce"),Qn(ao,"lineEach"),Qn((function(e,t,r){var n=r;return ao(e,(function(e,o,i,a){n=0===o&&void 0===r?e:t(n,e,o,i,a)})),n}),"lineReduce"),Qn((function(e,t){if(!Zn(t=t||{}))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,i=t.geometryIndex||0,a=t.segmentIndex||0,s=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),s=s||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":s=s||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var u=r.coordinates;switch(r.type){case"Point":case"MultiPoint":return null;case"LineString":return a<0&&(a=u.length+a-1),Un([u[a],u[a+1]],s,t);case"Polygon":return i<0&&(i=u.length+i),a<0&&(a=u[i].length+a-1),Un([u[i][a],u[i][a+1]],s,t);case"MultiLineString":return o<0&&(o=u.length+o),a<0&&(a=u[o].length+a-1),Un([u[o][a],u[o][a+1]],s,t);case"MultiPolygon":return o<0&&(o=u.length+o),i<0&&(i=u[o].length+i),a<0&&(a=u[o][i].length-a-1),Un([u[o][i][a],u[o][i][a+1]],s,t)}throw new Error("geojson is invalid")}),"findSegment"),Qn((function(e,t){if(!Zn(t=t||{}))throw new Error("options is invalid");var r,n=t.featureIndex||0,o=t.multiFeatureIndex||0,i=t.geometryIndex||0,a=t.coordIndex||0,s=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),s=s||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":s=s||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var u=r.coordinates;switch(r.type){case"Point":return qn(u,s,t);case"MultiPoint":return o<0&&(o=u.length+o),qn(u[o],s,t);case"LineString":return a<0&&(a=u.length+a),qn(u[a],s,t);case"Polygon":return i<0&&(i=u.length+i),a<0&&(a=u[i].length+a),qn(u[i][a],s,t);case"MultiLineString":return o<0&&(o=u.length+o),a<0&&(a=u[o].length+a),qn(u[o][a],s,t);case"MultiPolygon":return o<0&&(o=u.length+o),i<0&&(i=u[o].length+i),a<0&&(a=u[o][i].length-a),qn(u[o][i][a],s,t)}throw new Error("geojson is invalid")}),"findPoint");var so=Object.defineProperty,uo=Object.defineProperties,co=Object.getOwnPropertyDescriptors,lo=Object.getOwnPropertySymbols,po=Object.prototype.hasOwnProperty,fo=Object.prototype.propertyIsEnumerable,ho=(e,t,r)=>t in e?so(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,yo=(e,t)=>{for(var r in t||(t={}))po.call(t,r)&&ho(e,r,t[r]);if(lo)for(var r of lo(t))fo.call(t,r)&&ho(e,r,t[r]);return e},go=(e,t)=>uo(e,co(t));function mo(e,t,r={}){if(!e||!t)throw new Error("lines and pt are required arguments");let n=qn([1/0,1/0],{dist:1/0,index:-1,location:-1}),o=0;return oo(e,(function(e){const i=N(e);for(let e=0;e<i.length-1;e++){const a=qn(i[e]);a.properties.dist=er(t,a,r);const s=qn(i[e+1]);s.properties.dist=er(t,s,r);const u=er(a,s,r),c=Math.max(a.properties.dist,s.properties.dist),l=Sr(a,s),p=Hr(t,c,l+90,r),f=Hr(t,c,l-90,r),h=Cn(Un([p.geometry.coordinates,f.geometry.coordinates]),Un([a.geometry.coordinates,s.geometry.coordinates]));let y;h.features.length>0&&h.features[0]&&(y=go(yo({},h.features[0]),{properties:{dist:er(t,h.features[0],r),location:o+er(a,h.features[0],r)}})),a.properties.dist<n.properties.dist&&(n=go(yo({},a),{properties:go(yo({},a.properties),{index:e,location:o})})),s.properties.dist<n.properties.dist&&(n=go(yo({},s),{properties:go(yo({},s.properties),{index:e+1,location:o+u})})),y&&y.properties.dist<n.properties.dist&&(n=go(yo({},y),{properties:go(yo({},y.properties),{index:e})})),o+=u}})),n}((e,t)=>{so(e,"name",{value:t,configurable:!0})})(mo,"nearestPointOnLine");var bo=r(25950);function vo(e,t,r=50){const n=Z(e,t,{npoints:r});if("LineString"===n.geometry.type)return n.geometry.coordinates;const o=n.geometry.coordinates[0],[,...i]=n.geometry.coordinates[1];return[...o,...i]}function wo(e){const t=[];for(let r=0;r<e.length;r++){if(0===r){t[0]={distance:0,segmentDistance:0};continue}const n=e[r],o=er(e[r-1],n,{units:"meters"}),i=t[r-1].distance+o;t[r]={distance:i,segmentDistance:o}}return t}function Po(e){return e.filter(((t,r)=>{if(0===r)return!0;return!So(t,e[r-1])}))}function xo(e,t){const r=mo({type:"LineString",coordinates:e},{type:"Point",coordinates:t});return{index:r.properties.index,coordinates:r.geometry.coordinates}}function Eo(e,t,r){let n=0;for(let o=0;o<e.length;o++){const i=t[n];if(i&&So(i,e[o])&&n++,o===r)return n}return n}function So(e,t,r){const n=Mo(e),o=Mo(t);return(0,bo.pU)(n,o,r)}function Mo(e){return{x:e[0],y:e[1]}}const Ao="ruler",jo="planimeter",Fo=Object.freeze({editable:!0,zIndex:2600,source:"ymaps3x0-ruler"});class _o extends o._p{constructor(e){super(e,{container:!0}),this.FF2_rulerPoints=[],this.B4B_measurements=[],this.D99_totalDistance=0,this.FEE_area=0,this.B49_onMouseMoveHandler=(e,{coordinates:t})=>{if(this._props.editable&&(null==e?void 0:e.entity)===this.D80_lineFeature){const e=this.D80_lineFeature.geometry.coordinates,{coordinates:r}=xo(e,t);this.C77_previewPointMarker?this.C77_previewPointMarker.update({coordinates:r}):this.FE8_createPreviewPointMarker(r)}},this.ECB_onMouseMoveOnPreviewMarker=e=>{var t;const r=null===(t=this._consumeContext(p.X))||void 0===t?void 0:t.map;if(!r)return;const{coordinates:n}=r.convertScreenToWorldCoordinates(e),o=this.D80_lineFeature.geometry.coordinates,{coordinates:i}=xo(o,n);this.C77_previewPointMarker&&this.C77_previewPointMarker.update({coordinates:i})},this.EB7_onClickHandler=(e,{coordinates:t})=>{if(this._props.editable)if((null==e?void 0:e.entity)===this.D80_lineFeature||this.C77_previewPointMarker&&(null==e?void 0:e.entity)===this.C77_previewPointMarker){const e=this.FF2_rulerPoints.map((({coordinates:e})=>e)),r=this.D80_lineFeature.geometry.coordinates,{index:n}=xo(r,t);if(-1!==n){const o=Eo(r,e,n);e.splice(o,0,t),this.FCD_updateRulerCoordinates(e,{added:[o]})}}else if("feature"!==(null==e?void 0:e.type)&&"marker"!==(null==e?void 0:e.type)){const e=this.FF2_rulerPoints.map((({coordinates:e})=>e));e.push(t),this.FCD_updateRulerCoordinates(e,{added:[e.length-1]})}};const{type:t,source:r,zIndex:n}=this._props;this.EBC_dataSource=new a.v({id:r}),this.B32_markersLayer=new s.F({type:"markers",source:r,zIndex:n+.2}),this._addDirectChild(this.B32_markersLayer),this.FEE_featuresLayer=new s.F({type:"features",source:r,zIndex:n+.1}),this._addDirectChild(this.FEE_featuresLayer),this.C6D_blockerLayer=new d({zIndex:n}),this._props.editable&&this._addDirectChild(this.C6D_blockerLayer),this.D80_lineFeature=new u.W({source:r,geometry:{type:"LineString",coordinates:[]},style:this._props.geometry.style}),this.EBD_polygonFeature=new u.W({source:r,geometry:{type:"Polygon",coordinates:[]},style:Object.assign(Object.assign({},this._props.geometry.style),{stroke:[]})}),this._addDirectChild(this.D80_lineFeature),"planimeter"===t&&this._addDirectChild(this.EBD_polygonFeature),this.EAE_listener=new c.t({onFastClick:this.EB7_onClickHandler,onMouseMove:this.B49_onMouseMoveHandler}),this._addDirectChild(this.EAE_listener),this._props.previewPoint.addEventListener("mousemove",this.ECB_onMouseMoveOnPreviewMarker)}_onAttach(){this.addChild(this.EBC_dataSource);const e=this.FEE_updateMeasurements(this._props.points),t=this.EC3_getFeaturesCoordinates(this._props.points,this._props.type);this.D80_lineFeature.update({geometry:{type:"LineString",coordinates:t}}),this.EBD_polygonFeature.update({geometry:{type:"Polygon",coordinates:[t]}}),this.FF2_rulerPoints=e.map(((e,t,r)=>this.FDE_createNewRulerPoint(this._props.points[t],t,e,r.length))),this.C56_commonUpdate()}_onDetach(){this.removeChild(this.EBC_dataSource)}_onUpdate(e){void 0!==e.geometry&&(this.D80_lineFeature.update({style:e.geometry.style}),this.EBD_polygonFeature.update({style:Object.assign(Object.assign({},e.geometry.style),{stroke:[]})}));let t=!1,r=!1;if(void 0!==e.points&&(t=!0,this.FCD_updateRulerCoordinates(e.points,{forceUpdate:!0})),void 0!==e.type&&(t=!0,this.FEE_updateMeasurements(this.FF2_rulerPoints.map((({coordinates:e})=>e))),"planimeter"===e.type?this._addDirectChild(this.EBD_polygonFeature):this._removeDirectChild(this.EBD_polygonFeature)),void 0!==e.editable&&(r=!0,e.editable?this._addDirectChild(this.C6D_blockerLayer):this._removeDirectChild(this.C6D_blockerLayer)),void 0!==e.source&&(this.EBC_dataSource.update({id:e.source}),this.B32_markersLayer.update({source:e.source}),this.FEE_featuresLayer.update({source:e.source}),this.D80_lineFeature.update({source:e.source}),this.EBD_polygonFeature.update({source:e.source}),r=!0),void 0!==e.zIndex&&(this.B32_markersLayer.update({zIndex:e.zIndex+.2}),this.FEE_featuresLayer.update({zIndex:e.zIndex+.1}),this.C6D_blockerLayer.update({zIndex:e.zIndex})),t){const e=this.EC3_getFeaturesCoordinates(this.FF2_rulerPoints.map((({coordinates:e})=>e)),this._props.type);this.D80_lineFeature.update({geometry:{type:"LineString",coordinates:e}}),this.EBD_polygonFeature.update({geometry:{type:"Polygon",coordinates:[e]}}),r=!0}r&&(this.FF2_rulerPoints.forEach(((e,t)=>{var r;const{editable:n,source:o}=this._props,i={index:t,totalCount:this.FF2_rulerPoints.length,editable:n,source:o,coordinates:e.coordinates,measurements:this.B4B_measurements[t]};null===(r=e.update)||void 0===r||r.call(e,i)})),this.C56_commonUpdate())}C56_commonUpdate(){var e,t;let r;r=this._props.type===Ao?{type:this._props.type,totalDistance:this.D99_totalDistance}:{type:this._props.type,area:this.FEE_area},null===(t=(e=this._props).onUpdate)||void 0===t||t.call(e,{points:this.FF2_rulerPoints.map((({coordinates:e})=>e)),measurements:r})}FCD_updateRulerCoordinates(e,t){var r,n,o;const i=this.FEE_updateMeasurements(e);if(void 0===t)for(let t=0;t<e.length;t++){const n=this.FF2_rulerPoints[t];n.coordinates=e[t];const o={measurements:i[t],index:t,totalCount:e.length,coordinates:n.coordinates,editable:this._props.editable,source:this._props.source};null===(r=n.update)||void 0===r||r.call(n,o)}else if(!0===t.forceUpdate)this.FF2_rulerPoints.forEach(((e,t)=>e.remove(t))),this.FF2_rulerPoints=e.map(((e,t,r)=>this.FDE_createNewRulerPoint(e,t,i[t],r.length)));else{const r=new Set;null===(n=t.added)||void 0===n||n.forEach((t=>{r.add(t);const n=e[t],o=this.FDE_createNewRulerPoint(n,t,i[t],e.length);this.FF2_rulerPoints.splice(t,0,o)})),null===(o=t.removed)||void 0===o||o.forEach((e=>{this.FF2_rulerPoints[e].remove(e),this.FF2_rulerPoints.splice(e,1)})),this.FF2_rulerPoints.forEach(((t,n)=>{var o;if(r.has(n))return;const a={measurements:i[n],index:n,totalCount:e.length,coordinates:t.coordinates,editable:this._props.editable,source:this._props.source};null===(o=t.update)||void 0===o||o.call(t,a)}))}this.D8B_updateRulerGeometry(e),this.C56_commonUpdate()}D8B_updateRulerGeometry(e){const t=this.EC3_getFeaturesCoordinates(e,this._props.type);this.D80_lineFeature.update({geometry:{type:"LineString",coordinates:t}}),this.EBD_polygonFeature.update({geometry:{type:"Polygon",coordinates:[t]}})}FE8_createPreviewPointMarker(e){let t=null;this.C77_previewPointMarker=new l.K({coordinates:e,source:this._props.source,zIndex:-1,draggable:!0,onDragStart:e=>{const r=this.D80_lineFeature.geometry.coordinates,n=this.FF2_rulerPoints.map((({coordinates:e})=>e)),{index:o}=xo(r,e);t=Eo(r,n,o)},onDragMove:e=>{if(null===t)return;const r=this.FF2_rulerPoints.map((({coordinates:e})=>e));r.splice(t,0,e),this.D8B_updateRulerGeometry(r)},onDragEnd:e=>{if(null===t)return;const r=this.FF2_rulerPoints.map((({coordinates:e})=>e));r.splice(t,0,e),this.FCD_updateRulerCoordinates(r,{added:[t]}),t=null}},this._props.previewPoint),this._addDirectChild(this.C77_previewPointMarker)}FEE_updateMeasurements(e){if(this._props.type===Ao){const t=wo(e);this.D99_totalDistance=0===t.length?0:t[t.length-1].distance,this.B4B_measurements=t.map((({distance:e,segmentDistance:t})=>({type:Ao,totalDistance:this.D99_totalDistance,distance:e,segmentDistance:t})))}else this._props.type===jo&&(this.FEE_area=(t=e).length<=2?0:ut(kt({type:"Feature",properties:null,geometry:{type:"Polygon",coordinates:[[...Po(t)]]}})),this.B4B_measurements=e.map((()=>({type:jo,area:this.FEE_area}))));var t;return this.B4B_measurements}EC3_getFeaturesCoordinates(e,t){const r=
/** @license
 * Copyright (c) 2017 TurfJS
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy of
 * this software and associated documentation files (the "Software"), to deal in
 * the Software without restriction, including without limitation the rights to
 * use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of
 * the Software, and to permit persons to whom the Software is furnished to do so,
 * subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS
 * FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
 * COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
 * IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
 * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */
function(e,t){if(0===e.length)return[];const r=[e[0]];for(let t=0;t<e.length-1;t++){const n=vo(e[t],e[t+1]),[,...o]=n;r.push(...o)}if(t===jo){const t=vo(e[e.length-1],e[0]),[,...n]=t;r.push(...n)}return r}(e,t),n=function(e){if(0===e.length)return[];const t=[e[0]];let r=0,n=e[0];for(let o=1;o<e.length;o++){const i=e[o];let a=i[0]+r-n[0];if(a>360||a<-360){const e=360*Math.floor(a/360);r-=e,a-=e}a>180?r-=360:a<-180&&(r+=360);const s=[i[0]+r,i[1]];180===s[0]&&(s[0]=179.999999),t.push(s),n=s}return t}(r);return n}FDE_createNewRulerPoint(e,t,r,n){const o={measurements:r,index:t,totalCount:n,coordinates:e,editable:this._props.editable,source:this._props.source},{update:i,remove:a}=this._props.point({state:o,onDragMove:e=>{const t=this.FF2_rulerPoints.findIndex((e=>e===s));if(-1!==t){const r=this.FF2_rulerPoints.map((({coordinates:e})=>e));r[t]=e,this.FCD_updateRulerCoordinates(r)}},onDragStart:e=>{var t,r;null===(r=(t=this._props).onUpdateStart)||void 0===r||r.call(t,{})},onDragEnd:e=>{var t,r;null===(r=(t=this._props).onUpdateEnd)||void 0===r||r.call(t,{})},onDelete:()=>{this._props.editable&&this.C66_removeRulerPoint(s)}}),s={coordinates:e,update:i,remove:a};return s}C66_removeRulerPoint(e){const t=this.FF2_rulerPoints.findIndex((t=>t===e));if(-1!==t){const e=this.FF2_rulerPoints.map((({coordinates:e})=>e));e.splice(t,1),this.FCD_updateRulerCoordinates(e,{removed:[t]})}}}_o.defaultProps=Fo;const Co={props:{points:Array,type:String,geometry:Object,editable:{type:Boolean,default:Fo.editable},source:String,zIndex:Number,onUpdate:Function,onUpdateStart:Function,onUpdateEnd:Function}},Oo={props:{points:Array,type:String,geometry:Object,point:Function,editable:{type:Boolean,default:Fo.editable},source:String,zIndex:Number,previewPoint:HTMLElement,onUpdate:Function,onUpdateStart:Function,onUpdateEnd:Function}};var ko=r(93379),Io=r.n(ko),Lo=r(7795),Bo=r.n(Lo),Ro=r(90569),Do=r.n(Ro),To=r(3565),Go=r.n(To),qo=r(19216),No=r.n(qo),Uo=r(44589),Wo=r.n(Uo),Yo=r(10815),Xo={};Xo.styleTagTransform=Wo(),Xo.setAttributes=Go(),Xo.insert=Do().bind(null,"head"),Xo.domAPI=Bo(),Xo.insertStyleElement=No();Io()(Yo.Z,Xo);Yo.Z&&Yo.Z.locals&&Yo.Z.locals;var $o,zo,Ho,Jo=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r};const Vo=Object.freeze({});class Zo extends o._p{constructor(e){super(e,{container:!0}),this.C52_renderPoints=e=>{const t=this._props.point(e);this._addDirectChild(t);return{update:r=>{t.update(Object.assign(Object.assign({},e),{state:r}))},remove:()=>{this._removeDirectChild(t)}}},this.FE2_previewPointWrapper=(0,n.E)("ymaps3x0--ruler_preview-point"),this.FE2_previewPointWrapper.appendChild(this._props.previewPoint),this.D81_rulerCommon=new _o(Object.assign(Object.assign({},this._props),{previewPoint:this.FE2_previewPointWrapper,point:e=>this.C52_renderPoints(e)})),this._addDirectChild(this.D81_rulerCommon)}_onUpdate(){const e=this._props,{point:t,previewPoint:r}=e,n=Jo(e,["point","previewPoint"]);this.D81_rulerCommon.update(n)}}$o=i.Kj,zo=i.sq,Ho=i.wt,Zo.defaultProps=Vo,Zo[$o]=Co,Zo[zo]=(e,{reactify:t,React:r,ReactDOM:o})=>{const i=t.entity(_o),a=r.forwardRef(((e,t)=>{const a=r.useRef(0),s=r.useRef(null);if(null===s.current){const e=(0,n.E)("ymaps3x0--ruler_preview-point");s.current=e}const[u,c]=r.useState([]),l=r.useCallback((t=>{let r=e.point(t);const n=(a.current++).toString();return r.key=n,c((e=>{const t=e.slice();return t.push(r),t})),{update:o=>{const i=e.point(Object.assign(Object.assign({},t),{state:o}));i.key=n,c((e=>{const t=e.slice(),n=t.indexOf(r);return t[n]=i,r=i,t}))},remove(){c((e=>{const t=e.slice(),n=t.indexOf(r);return t.splice(n,1),t}))}}}),[e]);return r.createElement(r.Fragment,null,r.createElement(i,Object.assign({},e,{previewPoint:s.current,point:l,ref:t})),o.createPortal(e.previewPoint,s.current),u)}));return a},Zo[Ho]=(e,t,{vuefy:r,Vue:o})=>{const i=r.entity(_o,Oo.props);return o.defineComponent({name:"YMapRuler",props:t,slots:Object,setup(e,{slots:t}){let r=0;const a=o.ref([]),s=(0,n.E)("ymaps3x0--ruler_preview-point"),u=e=>{const n=(r++).toString();let i=o.h(o.Fragment,{key:n},t.point(e));return a.value.push(i),{update:r=>{const s=o.h(o.Fragment,{key:n},t.point(Object.assign(Object.assign({},e),{state:r}))),u=a.value.indexOf(i);a.value[u]=s,i=s},remove:()=>{const e=a.value.indexOf(i);a.value.splice(e,1)}}};return()=>[o.h(i,Object.assign(Object.assign({},e),{previewPoint:s,point:u})),o.h(o.Teleport,{to:s},t.previewPoint()),...a.value]}})}},43679:(e,t,r)=>{"use strict";var n=r(29981),o=r(44578),i=r(76814),a=r(12636),s=r(63376);e.exports=function(e){return null==e||"object"!=typeof e&&"function"!=typeof e?null:n(e)?"String":o(e)?"Number":i(e)?"Boolean":a(e)?"Symbol":s(e)?"BigInt":void 0}},86430:(e,t,r)=>{"use strict";var n=r(94029),o=r(63083),i=r(55559),a=r(21924),s=r(27296),u=a("Object.prototype.toString"),c=r(96410)(),l="undefined"==typeof globalThis?r.g:globalThis,p=o(),f=a("String.prototype.slice"),h=Object.getPrototypeOf,y=a("Array.prototype.indexOf",!0)||function(e,t){for(var r=0;r<e.length;r+=1)if(e[r]===t)return r;return-1},g={__proto__:null};n(p,c&&s&&h?function(e){var t=new l[e];if(Symbol.toStringTag in t){var r=h(t),n=s(r,Symbol.toStringTag);if(!n){var o=h(r);n=s(o,Symbol.toStringTag)}g["$"+e]=i(n.get)}}:function(e){var t=new l[e],r=t.slice||t.set;r&&(g["$"+e]=i(r))});e.exports=function(e){if(!e||"object"!=typeof e)return!1;if(!c){var t=f(u(e),8,-1);return y(p,t)>-1?t:"Object"===t&&function(e){var t=!1;return n(g,(function(r,n){if(!t)try{r(e),t=f(n,1)}catch(e){}})),t}(e)}return s?function(e){var t=!1;return n(g,(function(r,n){if(!t)try{"$"+r(e)===n&&(t=f(n,1))}catch(e){}})),t}(e):null}},24654:()=>{},63083:(e,t,r)=>{"use strict";var n=r(89908),o="undefined"==typeof globalThis?r.g:globalThis;e.exports=function(){for(var e=[],t=0;t<n.length;t++)"function"==typeof o[n[t]]&&(e[e.length]=n[t]);return e}},33216:(e,t,r)=>{"use strict";var n=r(82584),o=r(86373);if(r(41405)()||r(55419)()){var i=Symbol.iterator;e.exports=function(e){return null!=e&&void 0!==e[i]?e[i]():n(e)?Array.prototype[i].call(e):void 0}}else{var a=r(55677),s=r(29981),u=r(40210),c=u("%Map%",!0),l=u("%Set%",!0),p=r(21924),f=p("Array.prototype.push"),h=p("String.prototype.charCodeAt"),y=p("String.prototype.slice"),g=function(e){var t=0;return{next:function(){var r,n=t>=e.length;return n||(r=e[t],t+=1),{done:n,value:r}}}},d=function(e,t){if(a(e)||n(e))return g(e);if(s(e)){var r=0;return{next:function(){var t=function(e,t){if(t+1>=e.length)return t+1;var r=h(e,t);if(r<55296||r>56319)return t+1;var n=h(e,t+1);return n<56320||n>57343?t+1:t+2}(e,r),n=y(e,r,t);return r=t,{done:t>e.length,value:n}}}}return t&&void 0!==e["_es6-shim iterator_"]?e["_es6-shim iterator_"]():void 0};if(c||l){var m=r(78379),b=r(19572),v=p("Map.prototype.forEach",!0),w=p("Set.prototype.forEach",!0);if("undefined"==typeof process||!process.versions||!process.versions.node)var P=p("Map.prototype.iterator",!0),x=p("Set.prototype.iterator",!0);var E=p("Map.prototype.@@iterator",!0)||p("Map.prototype._es6-shim iterator_",!0),S=p("Set.prototype.@@iterator",!0)||p("Set.prototype._es6-shim iterator_",!0);e.exports=function(e){return function(e){if(m(e)){if(P)return o(P(e));if(E)return E(e);if(v){var t=[];return v(e,(function(e,r){f(t,[r,e])})),g(t)}}if(b(e)){if(x)return o(x(e));if(S)return S(e);if(w){var r=[];return w(e,(function(e){f(r,e)})),g(r)}}}(e)||d(e)}}else e.exports=function(e){if(null!=e)return d(e,!0)}}},43483:(e,t,r)=>{"use strict";var n=r(78379),o=r(19572),i=r(11718),a=r(25899);e.exports=function(e){if(e&&"object"==typeof e){if(n(e))return"Map";if(o(e))return"Set";if(i(e))return"WeakMap";if(a(e))return"WeakSet"}return!1}}},e=>{e.O(0,[175],(()=>{return t=47962,e(e.s=t);var t}));var t=e.O();self["@yandex/ymaps3-ruler"]=t}]);
